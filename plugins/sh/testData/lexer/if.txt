shebang ('#!/bin/bash')
\n ('\n')
\n ('\n')
if ('if')
WHITE_SPACE (' ')
[ ('[')
WHITE_SPACE (' ')
OPEN_QUOTE ('"')
STRING_CONTENT ('foo')
CLOSE_QUOTE ('"')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE (' ')
OPEN_QUOTE ('"')
STRING_CONTENT ('foo')
CLOSE_QUOTE ('"')
WHITE_SPACE (' ')
] (']')
; (';')
WHITE_SPACE (' ')
then ('then')
\n ('\n')
WHITE_SPACE ('    ')
word ('echo')
WHITE_SPACE (' ')
int ('1')
\n ('\n')
fi ('fi')
; (';')
\n ('\n')
\n ('\n')
if ('if')
WHITE_SPACE (' ')
[ ('[')
WHITE_SPACE (' ')
OPEN_QUOTE ('"')
STRING_CONTENT ('foo')
CLOSE_QUOTE ('"')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE (' ')
OPEN_QUOTE ('"')
STRING_CONTENT ('foo')
CLOSE_QUOTE ('"')
WHITE_SPACE (' ')
] (']')
; (';')
WHITE_SPACE (' ')
then ('then')
WHITE_SPACE (' ')
word ('echo')
WHITE_SPACE (' ')
int ('2')
\n ('\n')
fi ('fi')
; (';')
\n ('\n')
\n ('\n')
if ('if')
WHITE_SPACE (' ')
[ ('[')
WHITE_SPACE (' ')
word ('-e')
WHITE_SPACE (' ')
word ('/etc/software.properties')
WHITE_SPACE (' ')
] (']')
; (';')
WHITE_SPACE (' ')
then ('then')
\n ('\n')
WHITE_SPACE ('    ')
word ('echo')
WHITE_SPACE (' ')
RAW_STRING ('''')
WHITE_SPACE (' ')
>> ('>>')
WHITE_SPACE (' ')
word ('/opt/buildAgent/conf/buildAgent.properties')
\n ('\n')
WHITE_SPACE ('    ')
word ('cat')
WHITE_SPACE (' ')
word ('/etc/software.properties')
WHITE_SPACE (' ')
>> ('>>')
WHITE_SPACE (' ')
word ('/opt/buildAgent/conf/buildAgent.properties')
\n ('\n')
WHITE_SPACE ('    ')
word ('rm')
WHITE_SPACE (' ')
word ('/etc/software.properties')
\n ('\n')
fi ('fi')
\n ('\n')
\n ('\n')
if ('if')
WHITE_SPACE (' ')
[ ('[')
WHITE_SPACE (' ')
OPEN_QUOTE ('"')
var ('$key')
CLOSE_QUOTE ('"')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE (' ')
OPEN_QUOTE ('"')
CLOSE_QUOTE ('"')
WHITE_SPACE (' ')
] (']')
WHITE_SPACE (' ')
; (';')
WHITE_SPACE (' ')
then ('then')
\n ('\n')
WHITE_SPACE ('    ')
Comment ('# Use default initialization logic based on configuration in '/etc/inittab'.')
\n ('\n')
WHITE_SPACE ('    ')
word ('echo')
WHITE_SPACE (' ')
word ('-e')
WHITE_SPACE (' ')
OPEN_QUOTE ('"')
STRING_CONTENT ('Executing \\e[32m/sbin/init\\e[0m as PID 1.')
CLOSE_QUOTE ('"')
\n ('\n')
else ('else')
\n ('\n')
WHITE_SPACE ('    ')
Comment ('# Print second message on screen.')
\n ('\n')
WHITE_SPACE ('    ')
word ('cat')
WHITE_SPACE (' ')
word ('/etc/msg/03_init_02.txt')
\n ('\n')
fi ('fi')
\n ('\n')
\n ('\n')
if ('if')
WHITE_SPACE (' ')
[[ ('[[')
WHITE_SPACE (' ')
OPEN_QUOTE ('"')
var ('$VERSION_ID')
CLOSE_QUOTE ('"')
WHITE_SPACE (' ')
!= ('!=')
WHITE_SPACE ('  ')
word ('16.04')
WHITE_SPACE (' ')
]] (']]')
\n ('\n')
then ('then')
\n ('\n')
WHITE_SPACE ('    ')
word ('dpkg')
WHITE_SPACE (' ')
word ('--list')
WHITE_SPACE (' ')
| ('|')
WHITE_SPACE (' ')
word ('awk')
WHITE_SPACE (' ')
RAW_STRING (''{ print $2 }'')
WHITE_SPACE (' ')
| ('|')
WHITE_SPACE (' ')
word ('grep')
WHITE_SPACE (' ')
RAW_STRING (''linux-image-.*-generic'')
WHITE_SPACE (' ')
| ('|')
WHITE_SPACE (' ')
word ('grep')
WHITE_SPACE (' ')
word ('-v')
WHITE_SPACE (' ')
OPEN_BACKQUOTE ('`')
word ('uname')
WHITE_SPACE (' ')
word ('-r')
CLOSE_BACKQUOTE ('`')
WHITE_SPACE (' ')
| ('|')
WHITE_SPACE (' ')
word ('xargs')
WHITE_SPACE (' ')
word ('apt-get')
WHITE_SPACE (' ')
word ('-y')
WHITE_SPACE (' ')
word ('purge')
WHITE_SPACE (' ')
word ('--auto-remove')
\n ('\n')
fi ('fi')
\n ('\n')
\n ('\n')
if ('if')
WHITE_SPACE (' ')
[ ('[')
WHITE_SPACE (' ')
$ ('$')
( ('(')
word ('sysctl')
WHITE_SPACE (' ')
- ('-')
word ('n')
WHITE_SPACE (' ')
word ('kern.features.ufs_acl')
WHITE_SPACE (' ')
int ('2')
> ('>')
/ ('/')
word ('dev')
/ ('/')
word ('null')
WHITE_SPACE (' ')
|| ('||')
WHITE_SPACE (' ')
word ('echo')
WHITE_SPACE (' ')
int ('0')
) (')')
WHITE_SPACE (' ')
word ('-eq')
WHITE_SPACE (' ')
int ('0')
WHITE_SPACE (' ')
] (']')
; (';')
WHITE_SPACE (' ')
then ('then')
\n ('\n')
WHITE_SPACE ('	')
word ('echo')
WHITE_SPACE (' ')
OPEN_QUOTE ('"')
STRING_CONTENT ('1..0 # SKIP system does not have UFS ACL support')
CLOSE_QUOTE ('"')
\n ('\n')
WHITE_SPACE ('	')
word ('exit')
WHITE_SPACE (' ')
int ('0')
\n ('\n')
fi ('fi')
\n ('\n')
\n ('\n')
if ('if')
WHITE_SPACE (' ')
[ ('[')
WHITE_SPACE (' ')
word ('-f')
WHITE_SPACE (' ')
$ ('$')
{ ('{')
word ('NANO_KERNEL')
} ('}')
WHITE_SPACE (' ')
] (']')
WHITE_SPACE (' ')
; (';')
WHITE_SPACE (' ')
then ('then')
\n ('\n')
WHITE_SPACE ('	')
word ('KERNCONFDIR')
= ('=')
OPEN_QUOTE ('"')
$ ('$')
( ('(')
word ('realpath')
WHITE_SPACE (' ')
$ ('$')
( ('(')
word ('dirname')
WHITE_SPACE (' ')
$ ('$')
{ ('{')
word ('NANO_KERNEL')
} ('}')
) (')')
) (')')
CLOSE_QUOTE ('"')
\n ('\n')
else ('else')
\n ('\n')
WHITE_SPACE ('	')
word ('export')
WHITE_SPACE (' ')
word ('KERNCONF')
= ('=')
OPEN_QUOTE ('"')
$ ('$')
{ ('{')
word ('NANO_KERNEL')
} ('}')
CLOSE_QUOTE ('"')
\n ('\n')
fi ('fi')
\n ('\n')
\n ('\n')
[ ('[')
WHITE_SPACE (' ')
! ('!')
WHITE_SPACE (' ')
word ('-d')
WHITE_SPACE (' ')
OPEN_QUOTE ('"')
var ('$1')
CLOSE_QUOTE ('"')
WHITE_SPACE (' ')
] (']')
\n ('\n')
\n ('\n')
[ ('[')
WHITE_SPACE (' ')
! ('!')
WHITE_SPACE (' ')
! ('!')
WHITE_SPACE (' ')
! ('!')
WHITE_SPACE (' ')
int ('1')
WHITE_SPACE (' ')
== ('==')
WHITE_SPACE (' ')
int ('1')
WHITE_SPACE (' ')
] (']')
\n ('\n')
\n ('\n')
[[ ('[[')
WHITE_SPACE (' ')
$ ('$')
{ ('{')
word ('osvers')
} ('}')
WHITE_SPACE (' ')
word ('-ge')
WHITE_SPACE (' ')
int ('7')
WHITE_SPACE (' ')
]] (']]')
\n ('\n')
[[ ('[[')
WHITE_SPACE (' ')
( ('(')
word ('pwd')
) (')')
WHITE_SPACE (' ')
]] (']]')
\n ('\n')
[[ ('[[')
WHITE_SPACE (' ')
( ('(')
( ('(')
word ('pwd')
) (')')
) (')')
WHITE_SPACE (' ')
]] (']]')
\n ('\n')
[[ ('[[')
WHITE_SPACE (' ')
( ('(')
( ('(')
word ('1+1')
) (')')
) (')')
WHITE_SPACE (' ')
]] (']]')
\n ('\n')
[[ ('[[')
WHITE_SPACE (' ')
$ ('$')
{ ('{')
word ('sss')
} ('}')
WHITE_SPACE (' ')
word ('-ge')
WHITE_SPACE (' ')
int ('7')
WHITE_SPACE (' ')
]] (']]')
\n ('\n')
\n ('\n')
ARITH_SQUARE_LEFT ('$[')
WHITE_SPACE (' ')
int ('1')
WHITE_SPACE (' ')
< ('<')
WHITE_SPACE (' ')
int ('1')
ARITH_SQUARE_RIGHT (']')
\n ('\n')
ARITH_SQUARE_LEFT ('$[')
WHITE_SPACE (' ')
int ('1')
WHITE_SPACE (' ')
> ('>')
WHITE_SPACE (' ')
int ('1')
ARITH_SQUARE_RIGHT (']')
\n ('\n')
ARITH_SQUARE_LEFT ('$[')
WHITE_SPACE (' ')
int ('1')
WHITE_SPACE (' ')
>= ('>=')
WHITE_SPACE (' ')
int ('1')
ARITH_SQUARE_RIGHT (']')
\n ('\n')
ARITH_SQUARE_LEFT ('$[')
WHITE_SPACE (' ')
int ('1')
WHITE_SPACE (' ')
<= ('<=')
WHITE_SPACE (' ')
int ('1')
ARITH_SQUARE_RIGHT (']')
\n ('\n')
ARITH_SQUARE_LEFT ('$[')
WHITE_SPACE (' ')
int ('1')
WHITE_SPACE (' ')
== ('==')
WHITE_SPACE (' ')
int ('1')
ARITH_SQUARE_RIGHT (']')
\n ('\n')
ARITH_SQUARE_LEFT ('$[')
WHITE_SPACE (' ')
int ('1')
WHITE_SPACE (' ')
!= ('!=')
WHITE_SPACE (' ')
int ('1')
ARITH_SQUARE_RIGHT (']')
\n ('\n')
ARITH_SQUARE_LEFT ('$[')
WHITE_SPACE (' ')
int ('1')
++ ('++')
WHITE_SPACE (' ')
ARITH_SQUARE_RIGHT (']')
\n ('\n')
ARITH_SQUARE_LEFT ('$[')
WHITE_SPACE (' ')
int ('1')
-- ('--')
WHITE_SPACE (' ')
ARITH_SQUARE_RIGHT (']')