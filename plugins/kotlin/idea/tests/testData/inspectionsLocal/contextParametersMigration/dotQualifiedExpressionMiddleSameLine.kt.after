// "Replace context receivers with context parameters" "true"
// COMPILER_ARGUMENTS: -Xcontext-parameters
// LANGUAGE_VERSION: 2.2
// K2_ERROR: Context parameters must be named. Use '_' to declare an anonymous context parameter.

class C {
    fun Int.foo(a: Any, fn: () -> Unit): Int = this
}

context(c: C)
fun bar() {
    42.let { it }.let { with(c) { it.foo("boo") { } } }.let { it }
}
