// Gralde file just to be able to run project-model-updater on TeamCity.
// (probably, it's possible to run arbitrary `main`/runConfiguration on TeamCity but I don't know how to do it yet)

import org.jetbrains.kotlin.gradle.dsl.JvmTarget

plugins {
	id "org.jetbrains.kotlin.jvm" version "2.2.20"
    id "application"
}

repositories {
    maven { url 'https://cache-redirector.jetbrains.com/maven-central' }
    maven { url 'https://cache-redirector.jetbrains.com/intellij-dependencies' }
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib"
    implementation "org.jetbrains.kotlin:kotlin-reflect"
    implementation "org.jetbrains.intellij.deps:jdom:2.0.6"
}

java {
    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17
}

kotlin {
    compilerOptions {
        jvmTarget = JvmTarget.JVM_17
    }
}

sourceSets {
    main.kotlin.srcDirs = ["src"]
    main.resources.srcDirs = ["resources"]
}

application {
    mainClass = "org.jetbrains.tools.model.updater.MainKt"
}
