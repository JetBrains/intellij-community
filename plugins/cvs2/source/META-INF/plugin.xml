<idea-plugin version="2">
  <name>CVS Integration</name>
  <id>CVS</id>
  <version>0.1</version>
  <vendor logo="/general/ijLogo.png">JetBrains</vendor>
  <idea-version min="5.0" max="5.0"/>
  <resource-bundle>com.intellij.cvsSupport2.CvsBundle</resource-bundle>

  <extensions xmlns="com.intellij">
    <errorHandler implementation="com.intellij.diagnostic.ITNReporter"/>
  </extensions>

  <application-components>
    <component>
      <implementation-class>com.intellij.cvsSupport2.config.CvsApplicationLevelConfiguration</implementation-class>
    </component>
    <component>
      <implementation-class>com.intellij.cvsSupport2.application.CvsEntriesManager</implementation-class>
    </component>
    <component>
      <implementation-class>com.intellij.cvsSupport2.connections.ssh.SSHPasswordProviderImpl</implementation-class>
      <option name="workspace" value="true"/>
    </component>

    <component>
      <interface-class>com.intellij.openapi.cvsIntegration.CvsServices</interface-class>
      <implementation-class>com.intellij.cvsSupport2.impl.CvsServicesImpl</implementation-class>
    </component>
    <component>
      <implementation-class>com.intellij.cvsSupport2.config.ImportConfiguration</implementation-class>
    </component>

    <component>
      <implementation-class>com.intellij.cvsSupport2.checkout.CvsCheckoutProvider</implementation-class>
    </component>

  </application-components>

  <project-components>
    <component>
      <implementation-class>com.intellij.cvsSupport2.config.CvsConfiguration</implementation-class>
      <option name="workspace" value="true"/>
    </component>

    <component>
      <implementation-class>com.intellij.cvsSupport2.CvsVcs2</implementation-class>
    </component>
    <component>
      <implementation-class>com.intellij.cvsSupport2.ui.CvsTabbedWindow</implementation-class>
      <option name="workspace" value="true"/>
    </component>
    <component>
      <implementation-class>com.intellij.cvsSupport2.application.CvsStorageSupportingDeletionComponent</implementation-class>
    </component>

  </project-components>


  <actions>

    <group id="CvsFileGroup">
      <separator/>
      <add-to-group group-id="FileMenu" anchor="before" relative-to-action="ExportToHTML"/>
      <action id="Cvs.Import" class="com.intellij.cvsSupport2.actions.ImportAction"/>
      <action id="Cvs.BrowseCVSRepository" class="com.intellij.cvsSupport2.actions.BrowseCvsRepositoryAction"
        />
      <separator/>
    </group>

    <group id="CvsGlobalGroup" class="com.intellij.cvsSupport2.actions.Cvs2Group" test="CVS" popup="true">
      <add-to-group group-id="VcsGroups" anchor="last"/>
      <separator/>
      <action id="GlobalSettings" class="com.intellij.cvsSupport2.actions.GlobalSettingsAction"/>
      <action id="ConfigureCvsRoots" class="com.intellij.cvsSupport2.actions.ConfigureCvsRootsAction"/>
      <separator/>
    </group>

    <group id="CvsFilePopupGroup" class="com.intellij.cvsSupport2.actions.Cvs2Group" test="CVS" popup="true">
      <add-to-group group-id="VcsGroup" anchor="last"/>
    </group>

    <action id="Cvs.GetFromRepository" class="com.intellij.cvsSupport2.actions.GetFileFromRepositoryAction">
      <add-to-group group-id="UpdateActionGroup" anchor="last"/>
    </action>
    
    <group id="AddOptionDialogActionGroup" test="">
    <action id="Cvs.Ignore" class="com.intellij.cvsSupport2.actions.IgnoreFileAction">
        <add-to-group group-id="Vcs.CheckinProjectPopup" anchor="last"/>
      </action>
    </group>

    <group id="CvsActions">
      <reference id="CheckinFiles"/>
      <action id="Cvs.Rollback" class="com.intellij.cvsSupport2.actions.CvsRollbackChangesAction" icon="/actions/rollback.png"/>
      <reference id="UpdateFiles"/>
      <reference id="CheckStatusForFiles"/>
      <action id="Cvs.Checkout" class="com.intellij.cvsSupport2.actions.CheckoutFileAction"/>
      <action id="Cvs.MergeAction" class="com.intellij.cvsSupport2.actions.merge.MergeAction"/>

      <separator/>


      <action id="Cvs.Add" class="com.intellij.cvsSupport2.actions.AddFileOrDirectoryAction"/>
      <action id="Cvs.UndoAdd" class="com.intellij.cvsSupport2.actions.UnmarkAddedAction"/>
      <action id="Cvs.Remove" class="com.intellij.cvsSupport2.actions.RemoveLocallyDeletedFilesAction"/>
      <reference id="Cvs.Ignore"/>

      <separator/>
      <reference id="Compare.SameVersion"/>
      <reference id="Compare.LastVersion"/>
      <reference id="Compare.Selected"/>
      <reference id="Compare.Specified"/>

      <reference id="Vcs.ShowTabbedFileHistory"/>
      <reference id="Vcs.ShowHistoryForBlock"/>
      <reference id="Annotate"/>

      <separator/>
      <action id="Cvs.CreateBranch" class="com.intellij.cvsSupport2.actions.BranchAction"/>
      <action id="Cvs.CreateTag" class="com.intellij.cvsSupport2.actions.CreateTagAction"/>
      <action id="Cvs.DeleteTag" class="com.intellij.cvsSupport2.actions.DeleteTagAction"/>
      <separator/>
      <group id="EditAndWatch" popup="true">
        <action id="Cvs.Edit" class="com.intellij.cvsSupport2.actions.EditAction"/>
        <action id="Cvs.Unedit" class="com.intellij.cvsSupport2.actions.UneditAction"/>
        <action id="Cvs.Editors" class="com.intellij.cvsSupport2.actions.ViewEditorsAction"/>
        <separator/>
        <action id="Cvs.WatchOn" class="com.intellij.cvsSupport2.actions.WatchOnAction"/>
        <action id="Cvs.WatchOff" class="com.intellij.cvsSupport2.actions.WatchOffAction"/>
        <action id="Cvs.WatchAdd" class="com.intellij.cvsSupport2.actions.WatchAddAction"/>
        <action id="Cvs.WatchRemove" class="com.intellij.cvsSupport2.actions.WatchRemoveAction"/>
        <action id="Cvs.Watchers" class="com.intellij.cvsSupport2.actions.ViewWatchersAction"/>
      </group>
      <add-to-group group-id="UpdateActionGroup" anchor="last"/>

      <action id="Cvs.CheckinProjectPanel.Add" class="com.intellij.cvsSupport2.checkinProject.AddUnknownFileToCvsAction"
        >
        <add-to-group group-id="Vcs.CheckinProjectPopup" anchor="last"/>
      </action>

      <action id="Cvs.CheckinProjectPanel.Delete" class="com.intellij.cvsSupport2.actions.RemoveLocallyDeletedFilesAction">
        <add-to-group group-id="Vcs.CheckinProjectPopup" anchor="last"/>
      </action>

      <separator/>

      <action id="Cvs.BrowseChanges" class="com.intellij.cvsSupport2.actions.BrowseChangesAction"/>

      <add-to-group group-id="CvsFilePopupGroup" anchor="last"/>
      <add-to-group group-id="CvsGlobalGroup" anchor="last"/>
    </group>
  </actions>
</idea-plugin>
