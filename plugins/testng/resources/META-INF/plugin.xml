<idea-plugin>
    <name>TestNG-J</name>
    <description>TestNG Integration</description>
    <vendor>Theory In Practice, JetBrains</vendor>
    <depends>com.intellij.java-i18n</depends>
    <extensions defaultExtensionNs="com.intellij">
        <deadCode implementation="com.theoryinpractice.testng.inspection.TestNGEntryPoint"/>
        <cantBeStatic implementation="com.theoryinpractice.testng.inspection.TestNGCanBeStaticExtension" />
        <runConfigurationProducer implementation="com.theoryinpractice.testng.configuration.TestNGPatternConfigurationProducer"/>
        <runConfigurationProducer implementation="com.theoryinpractice.testng.configuration.TestNGInClassConfigurationProducer"/>
        <runConfigurationProducer implementation="com.theoryinpractice.testng.configuration.AbstractTestNGPackageConfigurationProducer"/>
        <runConfigurationProducer implementation="com.theoryinpractice.testng.configuration.AbstractTestNGSuiteConfigurationProducer"/>
        <configurationType implementation="com.theoryinpractice.testng.configuration.TestNGConfigurationType"/>
       <psi.referenceContributor language="JAVA" implementation="com.theoryinpractice.testng.TestNGReferenceContributor"/>
       <psi.referenceContributor language="Groovy" implementation="com.theoryinpractice.testng.TestNGReferenceContributor"/>
       <psi.referenceContributor language="XML" implementation="com.theoryinpractice.testng.TestNGSuiteReferenceContributor"/>
      <library.dependencyScopeSuggester implementation="com.theoryinpractice.testng.configuration.TestNGDependencyScopeSuggester"/>

      <localInspection groupPath="Java" language="JAVA" shortName="JUnitTestNG" displayName="JUnit Test can be converted to TestNG" groupName="TestNG" enabledByDefault="false"
                       level="WARNING" implementationClass="com.theoryinpractice.testng.inspection.JUnitConvertTool"/>
      <localInspection groupPath="Java" language="JAVA" shortName="ConvertOldAnnotations" displayName="Old TestNG annotation @Configuration is used" groupName="TestNG"
                       enabledByDefault="false" level="WARNING"
                       implementationClass="com.theoryinpractice.testng.inspection.ConvertOldAnnotationInspection"/>
      <localInspection groupPath="Java" language="JAVA" shortName="ConvertJavadoc" displayName="TestNG Javadoc can be converted to annotations" groupName="TestNG"
                       enabledByDefault="false" level="WARNING"
                       implementationClass="com.theoryinpractice.testng.inspection.ConvertJavadocInspection"/>
      <localInspection groupPath="Java" language="JAVA" shortName="dependsOnMethodTestNG" displayName="'dependsOnMethods' problem" groupName="TestNG" enabledByDefault="true"
                       level="WARNING" implementationClass="com.theoryinpractice.testng.inspection.DependsOnMethodInspection"/>
      <localInspection groupPath="Java" language="JAVA" shortName="groupsTestNG" displayName="Groups problem" groupName="TestNG" enabledByDefault="true" level="WARNING"
                       implementationClass="com.theoryinpractice.testng.inspection.DependsOnGroupsInspection"/>
      <localInspection groupPath="Java" language="JAVA" shortName="UndeclaredTests" displayName="Undeclared test" groupName="TestNG" enabledByDefault="false" level="WARNING"
                       implementationClass="com.theoryinpractice.testng.inspection.UndeclaredTestInspection"/>
      <localInspection groupPath="Java" language="JAVA" shortName="AssertEqualsBetweenInconvertibleTypesTestNG" displayName="'assertEquals()' between objects of inconvertible types"
                       groupName="TestNG" enabledByDefault="true" level="WARNING"
                       implementationClass="com.theoryinpractice.testng.inspection.AssertEqualsBetweenInconvertibleTypesTestNGInspection"/>
      <localInspection groupPath="Java" language="JAVA" shortName="ExpectedExceptionNeverThrownTestNG" displayName="Expected exception never thrown in test method body"
                       groupName="TestNG" enabledByDefault="false" level="WARNING"
                       implementationClass="com.theoryinpractice.testng.inspection.ExpectedExceptionNeverThrownTestNGInspection"/>
      <localInspection groupPath="Java" language="JAVA" suppressId="MessageMissingOnTestNGAssertion" shortName="AssertsWithoutMessagesTestNG"
                       displayName="Message missing on TestNG assertion" groupName="TestNG" enabledByDefault="false" level="WARNING"
                       implementationClass="com.theoryinpractice.testng.inspection.AssertsWithoutMessagesTestNGInspection"/>
      <localInspection groupPath="Java" language="JAVA" shortName="MisorderedAssertEqualsArgumentsTestNG" displayName="Misordered 'assertEquals()' arguments"
                       groupName="TestNG" enabledByDefault="false" level="WARNING"
                       implementationClass="com.theoryinpractice.testng.inspection.MisorderedAssertEqualsArgumentsTestNGInspection"/>
      <naming.convention.method implementation="com.theoryinpractice.testng.inspection.TestNGMethodNamingConvention" id="TestNGMethodNamingConvention" order="first"/>
      <localInspection groupPath="Java" language="JAVA" shortName="DuplicatedDataProviderNames" displayName="Duplicated data provider names"
                       groupName="TestNG" enabledByDefault="true" level="ERROR"
                       implementationClass="com.theoryinpractice.testng.inspection.DuplicatedDataProviderNamesInspection"/>
      <localInspection groupPath="Java" language="JAVA" shortName="DataProviderReturnType" displayName="Invalid data provider return type"
                       groupName="TestNG" enabledByDefault="true" level="ERROR"
                       implementationClass="com.theoryinpractice.testng.inspection.DataProviderReturnTypeInspection"/>

      <testFramework implementation="com.theoryinpractice.testng.TestNGFramework" id="testNG"/>
      <codeInsight.externalLibraryResolver implementation="com.theoryinpractice.testng.intention.TestNGExternalLibraryResolver"/>
      <standardResource url="http://testng.org/testng-1.0.dtd" path="resources/standardSchemas/testng-1.0.dtd"/>
      <overrideImplementsAnnotationsHandler implementation="com.theoryinpractice.testng.intention.OverrideImplementsTestNGAnnotationsHandler"/>
      <gotoRelatedProvider implementation="com.theoryinpractice.testng.TestNGRelatedFilesProvider"/>
      <methodReferencesSearch implementation="com.theoryinpractice.testng.DataProviderSearcher"/>
      <stacktrace.fold substring="at org.testng.internal."/>
      <stacktrace.fold substring="at org.testng.TestRunner."/>
      <stacktrace.fold substring="at org.testng.SuiteRunner."/>
      <stacktrace.fold substring="at org.testng.TestNG.run"/>
      <localInspection groupPath="Java" language="JAVA" shortName="TestNGDataProvider"
                       implementationClass="com.theoryinpractice.testng.inspection.TestNGDataProviderInspection" displayName="Data provider problems"
                       groupName="TestNG" enabledByDefault="true" level="WARNING"/>
      <programRunner implementation="com.theoryinpractice.testng.configuration.TestNGDebuggerRunner"/>
      <runConfigurationProducer
          implementation="com.theoryinpractice.testng.configuration.testDiscovery.TestNGTestDiscoveryConfigurationProducer"/>
      <localInspection implementationClass="com.theoryinpractice.testng.inspection.SimplifiedTestNGAssertionInspection"
                       groupPath="Java" language="JAVA" shortName="SimplifiedTestNGAssertion" bundle="com.siyeh.InspectionGadgetsBundle"
                       key="simplifiable.testng.assertion.display.name" groupName="TestNG"
                       enabledByDefault="true" level="WARNING"/>
      <localInspection groupPath="Java" language="JAVA" shortName="ConstantTestNGAssertArgument" displayName="Constant TestNG assert argument"
                       groupName="TestNG" enabledByDefault="false" level="WARNING" implementationClass="com.theoryinpractice.testng.inspection.ConstantTestNGAssertArgumentInspection"/>
      <externalSystem.runConfigurationImporter implementation="com.theoryinpractice.testng.configuration.TestNGRunConfigurationImporter"/>
    </extensions>
  <extensions defaultExtensionNs="com.theoryinpractice.testng">
    <listener implementation="org.testng.TestNGTestDiscoveryListener"/>
  </extensions>
    <extensionPoints >
      <extensionPoint qualifiedName="com.theoryinpractice.testng.listener" interface="org.testng.IDEATestNGListener"/>
    </extensionPoints>

  <actions>
    <group>
      <action class="com.theoryinpractice.testng.ui.actions.TestNGExcludeFromRunAction" text="Exclude from suite" id="excludeFromTestNGSuite"/>
      <separator/>
      <add-to-group relative-to-action="openAssertEqualsDiff" anchor="after" group-id="TestTreePopupMenu"/>
    </group>
    <group>
      <action class="com.theoryinpractice.testng.ui.actions.TestNGAddToTestsPatternAction" id="AddToTestNGSuite" text="Add to temp suite"/>
      <add-to-group anchor="first" group-id="RunContextGroup"/>
    </group>
  </actions>

    <change-notes>
        <![CDATA[
            <li>TESTNG-151 Final passing test result is not properly hidden
            <li>Fix method popup if test has class level @Test annotation
            <li>Added auto-completion for method names in dependsOnMethods
            <li>Added auto-completion for group names in dependsOnGroups
            <li>Fix for NPE on annotations without an annotation name (@ only).
            <li>Added TestNG 5.6 jars
            <li>Added inspection descriptions
        ]]>
    </change-notes>
</idea-plugin>
