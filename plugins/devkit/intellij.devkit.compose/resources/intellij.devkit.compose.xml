<idea-plugin>
  <dependencies>
    <module name="intellij.devkit.core"/>

    <module name="intellij.platform.compose"/>
    <module name="intellij.platform.jewel.samples.showcase"/>

    <!-- For Markdown demos -->
    <module name="intellij.platform.compose.markdown"/>
    <module name="intellij.platform.jewel.markdown.extensions.images"/>

    <plugin id="org.jetbrains.kotlin"/>
  </dependencies>

  <resource-bundle>messages.DevkitComposeBundle</resource-bundle>

  <extensions defaultExtensionNs="com.intellij">
    <fileEditorProvider implementation="com.intellij.devkit.compose.sandbox.ComposeSandboxFileEditorProvider"/>
    <postStartupActivity implementation="com.intellij.devkit.compose.sandbox.ComposeSandboxStartupActivity"/>
    <fileIconProvider implementation="com.intellij.devkit.compose.sandbox.ComposeSandboxFileIconProvider"/>
    <applicationConfigurable
      parentId="tools"
      provider="com.intellij.devkit.compose.showcase.SettingsPageOnComposeProvider"
      id="com.intellij.devkit.compose.showcase.SettingsPageOnCompose"
      key="configurable.name.settings.page.on.compose"/>

    <registryKey key="devkit.compose.example.settings.page" defaultValue="false"
                 description="Enable example Settings page implemented with Compose UI"/>

    <editorNotificationProvider implementation="com.intellij.devkit.compose.hotreload.ComposeHotReloadSuggester"/>
  </extensions>

  <actions>
    <group id="ComposeToolsGroup" searchable="false">
      <action id="JewelToolwindow" class="com.intellij.devkit.compose.demo.dialog.JewelToolwindowAction"
              icon="org.jetbrains.idea.devkit.DevKitIcons.ComposeToolWindow"/>
      <action id="JewelComponentShowcaseDialog" class="com.intellij.devkit.compose.demo.dialog.ComponentShowcaseDialogAction"
              icon="org.jetbrains.idea.devkit.DevKitIcons.Items"/>
      <action id="JewelWizardDialog" class="com.intellij.devkit.compose.demo.dialog.JewelWizardDialogAction"/>
      <action id="ComposeSandbox" class="com.intellij.devkit.compose.sandbox.ComposeSandboxAction" icon="AllIcons.FileTypes.UiForm"/>

      <action id="ComposePerformanceDemo" class="com.intellij.devkit.compose.showcase.ComposePerformanceDemoAction"
              internal="true"/> <!-- only needed for the JetBrains team -->
      <separator/>

      <add-to-group group-id="ToolsMenu" relative-to-action="Dev.PsiViewerActions" anchor="after"/>
    </group>

    <!-- Legacy actions, only available from Search Everywhere -->
    <action id="ComposeShowcase" class="com.intellij.devkit.compose.showcase.ComposeShowcaseAction"/>
    <action id="JewelActionSystemTest" class="com.intellij.devkit.compose.demo.ActionSystemTestAction"/>
  </actions>
</idea-plugin>
