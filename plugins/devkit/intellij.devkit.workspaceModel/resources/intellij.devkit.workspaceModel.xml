<idea-plugin package="com.intellij.devkit.workspaceModel">

  <dependencies>
    <plugin id="com.intellij.java"/>
    <plugin id="org.jetbrains.kotlin"/>
    <module name="intellij.devkit.core"/>
  </dependencies>

  <resource-bundle>messages.DevKitWorkspaceModelBundle</resource-bundle>

  <actions>
    <group id="WorkspaceModel" popup="true">
      <action id="WorkspaceEntitiesJsonClipboard" internal="true"
              class="com.intellij.devkit.workspaceModel.jsonDump.DumpWorkspaceEntitiesToClipboardAction"/>
      <action id="WorkspaceEntitiesJsonLog" internal="true"
              class="com.intellij.devkit.workspaceModel.jsonDump.DumpWorkspaceEntitiesToLogAction"/>
      <action id="WorkspaceEntitiesJsonLogFile" internal="true"
              class="com.intellij.devkit.workspaceModel.jsonDump.DumpWorkspaceEntitiesToLogFileAction"/>
    </group>
    <action id="WorkspaceModelGeneration" class="com.intellij.devkit.workspaceModel.WorkspaceModelGenerationAction">
      <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
    </action>
    <action id="WorkspaceModelGenerateAllModulesAction" class="com.intellij.devkit.workspaceModel.WorkspaceModelGenerateAllModulesAction">
      <add-to-group group-id="WorkspaceModel" anchor="first"/>
    </action>
  </actions>
  <extensions defaultExtensionNs="com.intellij">
    <localInspection language="kotlin"
                     projectType="INTELLIJ_PLUGIN"
                     groupBundle="messages.DevKitWorkspaceModelBundle"
                     groupPathKey="inspections.group.path" groupKey="inspections.group.workspace.model"
                     runForWholeFile="true"
                     enabledByDefault="true" level="WARNING"
                     implementationClass="com.intellij.devkit.workspaceModel.WorkspaceImplObsoleteInspection"
                     key="inspection.workspace.obsolete.model.display.name"/>
    <localInspection language="kotlin"
                     shortName="WorkspaceImplAbsent"
                     projectType="INTELLIJ_PLUGIN"
                     groupBundle="messages.DevKitWorkspaceModelBundle"
                     groupPathKey="inspections.group.path" groupKey="inspections.group.workspace.model"
                     runForWholeFile="true"
                     enabledByDefault="true" level="WARNING"
                     implementationClass="com.intellij.devkit.workspaceModel.WorkspaceImplGenerationInspection"
                     key="inspection.workspace.impl.generation.display.name"/>
    <localInspection language="kotlin"
                     projectType="INTELLIJ_PLUGIN"
                     groupBundle="messages.DevKitWorkspaceModelBundle"
                     groupPathKey="inspections.group.path" groupKey="inspections.group.workspace.model"
                     runForWholeFile="true"
                     enabledByDefault="true" level="WARNING"
                     implementationClass="com.intellij.devkit.workspaceModel.WorkspaceEntityMutableFieldInspection"
                     key="inspection.workspace.mutable.field.display.name"/>
    <notificationGroup id="Incompatible codegen api versions"
                       displayType="BALLOON"
                       key="notification.workspace.incompatible.codegen.api.versions"/>
  </extensions>
</idea-plugin>
