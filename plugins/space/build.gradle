buildscript {
    repositories {
        maven { url "http://dl.bintray.com/jetbrains/intellij-plugin-service" }
    }
}

plugins {
    id "org.jetbrains.intellij" version "0.3.4"
}

applyKotlinJVM()

if (hasProperty("teamcity")) {
    version = teamcity["build.number"]
}

dependencies {
    compile project(":app:app-state")
    compile project(":app:app-state:app-state-jvm")

    compile "io.ktor:ktor-server-core:$ktor_version"
    compile "io.ktor:ktor-server-jetty:$ktor_version"
    compile "org.slf4j:jul-to-slf4j:1.7.12"
    compile "ch.qos.logback:logback-classic:1.2.1"

    compile "org.glassfish.jersey.core:jersey-common:2.23"
    compile "org.glassfish.jersey.core:jersey-client:2.23"

    compile "nl.komponents.kovenant:kovenant:3.3.0"
    compile "org.apache.commons:commons-io:1.3.2"
}

test { finalizedBy jacocoTestReport }

intellij {
    version "IC-173.4127.17"
    pluginName "circlet-intellij-plugin"
    updateSinceUntilBuild false
    sandboxDirectory "${project.projectDir}/.sandbox"
}
