// Copyright 2000-2021 JetBrains s.r.o. Use of this source code is governed by the Apache 2.0 license that can be found in the LICENSE file.
buildscript {
  repositories {
    maven { url "https://cache-redirector.jetbrains.com/plugins.gradle.org" }
  }
  dependencies {
    classpath "de.undercouch:gradle-download-task:4.1.1"
    classpath "gradle.plugin.org.jetbrains.gradle.plugin.idea-ext:gradle-idea-ext:0.9"
  }
}

allprojects {
  repositories {
    maven { url 'https://cache-redirector.jetbrains.com/intellij-dependencies' }
  }
  apply plugin: 'idea'
  idea {
    module {
      inheritOutputDirs true
    }
  }
}

apply plugin: "de.undercouch.download"
apply plugin: 'base'

group 'intellij.tools'
version '1.0'

apply from: 'setupJdk.gradle'
apply from: 'setupCidr.gradle'

task setupDependencies(dependsOn: ['setupJdks'], group: 'dependencies')
clean.dependsOn('cleanSetupJdks')

wrapper {
  gradleVersion = '5.5'
  distributionUrl = "https://cache-redirector.jetbrains.com/services.gradle.org/distributions/gradle-${gradleVersion}-all.zip"
}