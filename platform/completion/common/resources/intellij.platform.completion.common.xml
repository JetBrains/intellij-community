<idea-plugin visibility="internal">
  <extensions defaultExtensionNs="com.intellij">
    <!--suppress PluginXmlRegistrationCheck -->
    <projectService serviceInterface="com.intellij.codeInsight.AutoPopupControllerHelper"
                    serviceImplementation="com.intellij.platform.completion.common.AutoPopupControllerHelperImpl"/>

    <completion.frontendFriendlyPrefixMatcher target="com.intellij.codeInsight.completion.PlainPrefixMatcher"
                                              converter="com.intellij.platform.completion.common.protocol.PlainPrefixMatcherDescriptorConverter"
                                              descriptor="com.intellij.platform.completion.common.protocol.PlainPrefixMatcherDescriptor"/>
    <completion.frontendFriendlyPrefixMatcher target="com.intellij.codeInsight.completion.impl.CamelHumpMatcher"
                                              converter="com.intellij.platform.completion.common.protocol.CamelHumpMatcherDescriptorConverter"
                                              descriptor="com.intellij.platform.completion.common.protocol.CamelHumpMatcherDescriptor"/>
    <completion.frontendFriendlyPrefixMatcher target="com.intellij.codeInsight.completion.StartOnlyMatcher"
                                              converter="com.intellij.platform.completion.common.protocol.StartOnlyMatcherDescriptorConverter"
                                              descriptor="com.intellij.platform.completion.common.protocol.StartOnlyMatcherDescriptor"/>

    <!-- Prefix condition serializers for restartCompletionOnPrefixChange -->
    <completion.frontendFriendlyRestartPrefixCondition target="com.intellij.patterns.StringPattern"
                                                       converter="com.intellij.platform.completion.common.protocol.AlwaysTrueConditionConverter"
                                                       descriptor="com.intellij.platform.completion.common.protocol.AlwaysTrueDescriptor"/>
    <completion.frontendFriendlyRestartPrefixCondition target="com.intellij.patterns.StringPattern"
                                                       converter="com.intellij.platform.completion.common.protocol.LongerThanConditionConverter"
                                                       descriptor="com.intellij.platform.completion.common.protocol.LongerThanDescriptor"/>
    <completion.frontendFriendlyRestartPrefixCondition target="com.intellij.patterns.StringPattern"
                                                       converter="com.intellij.platform.completion.common.protocol.ShorterThanConditionConverter"
                                                       descriptor="com.intellij.platform.completion.common.protocol.ShorterThanDescriptor"/>
    <completion.frontendFriendlyRestartPrefixCondition target="com.intellij.patterns.StringPattern"
                                                       converter="com.intellij.platform.completion.common.protocol.WithLengthConditionConverter"
                                                       descriptor="com.intellij.platform.completion.common.protocol.WithLengthDescriptor"/>
    <completion.frontendFriendlyRestartPrefixCondition target="com.intellij.patterns.StringPattern"
                                                       converter="com.intellij.platform.completion.common.protocol.StartsWithConditionConverter"
                                                       descriptor="com.intellij.platform.completion.common.protocol.StartsWithDescriptor"/>
    <completion.frontendFriendlyRestartPrefixCondition target="com.intellij.patterns.StringPattern"
                                                       converter="com.intellij.platform.completion.common.protocol.EndsWithConditionConverter"
                                                       descriptor="com.intellij.platform.completion.common.protocol.EndsWithDescriptor"/>
    <completion.frontendFriendlyRestartPrefixCondition target="com.intellij.patterns.StringPattern"
                                                       converter="com.intellij.platform.completion.common.protocol.ContainsConditionConverter"
                                                       descriptor="com.intellij.platform.completion.common.protocol.ContainsDescriptor"/>
    <completion.frontendFriendlyRestartPrefixCondition target="com.intellij.patterns.StringPattern"
                                                       converter="com.intellij.platform.completion.common.protocol.MatchesConditionConverter"
                                                       descriptor="com.intellij.platform.completion.common.protocol.MatchesDescriptor"/>
    <completion.frontendFriendlyRestartPrefixCondition target="com.intellij.patterns.StringPattern"
                                                       converter="com.intellij.platform.completion.common.protocol.OneOfConditionConverter"
                                                       descriptor="com.intellij.platform.completion.common.protocol.OneOfDescriptor"/>
    <completion.frontendFriendlyRestartPrefixCondition target="com.intellij.patterns.StringPattern"
                                                       converter="com.intellij.platform.completion.common.protocol.OneOfIgnoreCaseConditionConverter"
                                                       descriptor="com.intellij.platform.completion.common.protocol.OneOfIgnoreCaseDescriptor"/>
    <completion.frontendFriendlyRestartPrefixCondition target="com.intellij.patterns.StringPattern"
                                                       converter="com.intellij.platform.completion.common.protocol.EqualToConditionConverter"
                                                       descriptor="com.intellij.platform.completion.common.protocol.EqualToDescriptor"/>
    <completion.frontendFriendlyRestartPrefixCondition target="com.intellij.patterns.StringPattern"
                                                       converter="com.intellij.platform.completion.common.protocol.EndsWithUppercaseLetterConditionConverter"
                                                       descriptor="com.intellij.platform.completion.common.protocol.EndsWithUppercaseLetterDescriptor"/>
    <completion.frontendFriendlyRestartPrefixCondition target="com.intellij.patterns.StringPattern"
                                                       converter="com.intellij.platform.completion.common.protocol.AfterNonJavaIdentifierPartConditionConverter"
                                                       descriptor="com.intellij.platform.completion.common.protocol.AfterNonJavaIdentifierPartDescriptor"/>
    <completion.frontendFriendlyRestartPrefixCondition target="com.intellij.patterns.StringPattern"
                                                       converter="com.intellij.platform.completion.common.protocol.AndPatternConverter"
                                                       descriptor="com.intellij.platform.completion.common.protocol.AndDescriptor"/>
    <completion.frontendFriendlyRestartPrefixCondition target="com.intellij.patterns.ObjectPattern$Capture"
                                                       converter="com.intellij.platform.completion.common.protocol.OrPatternConverter"
                                                       descriptor="com.intellij.platform.completion.common.protocol.OrDescriptor"/>
    <completion.frontendFriendlyRestartPrefixCondition target="com.intellij.patterns.ObjectPattern$Capture"
                                                       converter="com.intellij.platform.completion.common.protocol.NotPatternConverter"
                                                       descriptor="com.intellij.platform.completion.common.protocol.NotDescriptor"/>

    <registryKey key="remdev.completion.on.frontend.stat"
                 defaultValue="false"
                 description="Enables collecting statistics for non-frontend completion things"/>
  </extensions>
</idea-plugin>
