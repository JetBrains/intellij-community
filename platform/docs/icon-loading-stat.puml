 @startuml
 !include jb-plantuml-theme.puml

' Time measurement: svg-decode includes svg-cache-read.

:Load Image;

if (Is SVG) then (yes)
  :svg-load]
else (no)
  :png-load]
endif

if (Is Cached) then (yes)
else (no)
  if (Is resourceClass Provided) then (yes)
    :load-from-resource]
    if (Is Resource Exist) then (yes)
    else (no)
      ' That's why load-from-resource maybe not equal to sum of ""svg-load"" and ""png-load""
      :Return ""null"";
      detach;
    endif
  else (no)
    :load-from-url]
  endif

  if (Is SVG) then (yes)
    :svg-cache-read]
    if (Is Cached) then (yes)
    else (no)
      :svg-decode]
    endif
  else (no)
    :png-decode]
  endif
endif

:Return Image;

@enduml