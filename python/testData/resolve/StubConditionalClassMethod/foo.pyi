import sys

class Foo:
    if sys.platform == "win32":
        if sys.version_info == (3, 12):
            def bar(self, a: str = "win32_if") -> str: ...
        elif sys.version_info < (3, 8) and sys.platform == "win32":
            def bar(self, a: str = "win32_elif") -> str: ...
        else:
            def bar(self, a: str = "win32_else") -> str: ...
    elif sys.platform == "linux":
        if sys.version_info == (3, 12):
            def bar(self, a: str = "linux_if") -> str: ...
        elif sys.version_info < (3, 8) and sys.platform == "linux":
            def bar(self, a: str = "linux_elif") -> str: ...
        else:
            def bar(self, a: str = "linux_else") -> str: ...
    elif sys.platform == "darwin":
        if sys.version_info == (3, 12):
            def bar(self, a: str = "darwin_if") -> str: ...
        elif sys.version_info < (3, 8) and sys.platform == "darwin":
            def bar(self, a: str = "darwin_elif") -> str: ...
        else:
            def bar(self, a: str = "darwin_else") -> str: ...
    else:
        if sys.version_info == (3, 12):
            def bar(self, a: str = "if") -> str: ...
        elif sys.version_info < (3, 8) and sys.platform != "win32":
            def bar(self, a: str = "elif") -> str: ...
        else:
            def bar(self, a: str = "else") -> str: ...