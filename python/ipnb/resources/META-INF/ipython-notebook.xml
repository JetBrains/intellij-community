<idea-plugin version="2">
  <project-components>
    <component>
      <implementation-class>org.jetbrains.plugins.ipnb.configuration.IpnbConnectionManager</implementation-class>
    </component>
  </project-components>
  <extensions defaultExtensionNs="com.intellij">
    <fileEditorProvider implementation="org.jetbrains.plugins.ipnb.editor.IpnbEditorProvider"/>
    <fileTypeFactory implementation="org.jetbrains.plugins.ipnb.IpnbFileTypeFactory"/>

    <projectConfigurable groupId="language"  instance="org.jetbrains.plugins.ipnb.configuration.IpnbConfigurable"
                         id="org.jetbrains.plugins.ipnb.configuration.IpnbConfigurable" displayName="IPython Notebook"
                         nonDefaultProject="true"/>
    <projectService serviceInterface="org.jetbrains.plugins.ipnb.configuration.IpnbSettings"
                    serviceImplementation="org.jetbrains.plugins.ipnb.configuration.IpnbSettings"/>
    <lang.parserDefinition language="IpnbPython" implementationClass="org.jetbrains.plugins.ipnb.psi.IpnbPyParserDefinition"/>
  </extensions>
  <extensions defaultExtensionNs="Pythonid">
    <dialectsTokenSetContributor implementation="org.jetbrains.plugins.ipnb.psi.IpnbPyTokenSetContributor"/>
    <visitorFilter language="IpnbPython" implementationClass="org.jetbrains.plugins.ipnb.IpnbVisitorFilter"/>
  </extensions>
  <actions>
    <action class="org.jetbrains.plugins.ipnb.editor.actions.IpnbRunCellInplaceAction" id="IpnbRunCellInplaceAction"
            text="Run Cell Inplace">
      <keyboard-shortcut keymap="$default" first-keystroke="ctrl ENTER"/>
    </action>
    <action class="org.jetbrains.plugins.ipnb.editor.actions.IpnbRunCellAction" id="IpnbRunCellAction" text="Run Cell">
      <keyboard-shortcut keymap="$default" first-keystroke="shift ENTER"/>
    </action>
    <action class="org.jetbrains.plugins.ipnb.editor.actions.IpnbRunAllCellsAction" id="IpnbRunAllCellsAction" text="Run All Cells"
    use-shortcut-of="Run">
      <add-to-group group-id="RunMenu" anchor="last"/>
    </action>
    <action class="org.jetbrains.plugins.ipnb.editor.actions.IpnbSaveAction" id="IpnbSaveAction" text="Save and Checkpoint">
    </action>
    <action class="org.jetbrains.plugins.ipnb.editor.actions.IpnbAddCellBelowAction" id="IpnbAddCellBelowAction" text="Insert Cell Below">
      <keyboard-shortcut keymap="$default" first-keystroke="ctrl EQUALS"/>
    </action>
    <action class="org.jetbrains.plugins.ipnb.editor.actions.IpnbAddCellAboveAction" id="IpnbAddCellAboveAction" text="Insert Cell Above">
      <keyboard-shortcut keymap="$default" first-keystroke="ctrl shift EQUALS"/>
    </action>
    <action class="org.jetbrains.plugins.ipnb.editor.actions.IpnbCutCellAction" id="IpnbCutCellAction" text="Cut Cell"/>
    <action class="org.jetbrains.plugins.ipnb.editor.actions.IpnbCopyCellAction" id="IpnbCopyCellAction" text="Copy Cell"/>
    <action class="org.jetbrains.plugins.ipnb.editor.actions.IpnbPasteCellAction" id="IpnbPasteCellAction" text="Paste Cell Below"/>
    <action class="org.jetbrains.plugins.ipnb.editor.actions.IpnbDeleteCellAction" id="IpnbDeleteCellAction" text="Delete Cell"/>

    <action class="org.jetbrains.plugins.ipnb.editor.actions.IpnbMoveCellDownAction" id="IpnbMoveCellDownAction" text="Move Cell Down">
      <keyboard-shortcut keymap="$default" first-keystroke="ctrl shift DOWN"/>
    </action>
    <action class="org.jetbrains.plugins.ipnb.editor.actions.IpnbMoveCellUpAction" id="IpnbMoveCellUpAction" text="Move Cell Up">
      <keyboard-shortcut keymap="$default" first-keystroke="ctrl shift UP"/>
    </action>

    <action class="org.jetbrains.plugins.ipnb.editor.actions.IpnbMarkdownCellAction" id="IpnbMarkdownCellAction" text="Markdown Cell">
      <keyboard-shortcut keymap="$default" first-keystroke="ctrl shift m"/>
    </action>
    <action class="org.jetbrains.plugins.ipnb.editor.actions.IpnbCodeCellAction" id="IpnbCodeCellAction" text="Code Cell">
      <keyboard-shortcut keymap="$default" first-keystroke="ctrl shift s"/>
    </action>
    <action id="NewIPynbFile" class="org.jetbrains.plugins.ipnb.editor.actions.IpnbCreateFileAction">
      <add-to-group group-id="NewGroup" anchor="after" relative-to-action="NewPythonFile"/>
    </action>

  </actions>

</idea-plugin>
