<!DOCTYPE html>
<html>
<head>
  <!--all elements like "${}" is replaced by real values while loading page in StudyBrowser-->

  <!--suppress HtmlUnknownTarget -->
  <link rel="stylesheet" href="${css_oldcodemirror}">
  <!--suppress HtmlUnknownTarget -->
  <link rel="stylesheet" href="${css_codemirror}">
  <!--suppress HtmlUnknownTarget -->
  <script src="${codemirror}"></script>
  <!--suppress HtmlUnknownTarget -->
  <script src="${colorize}"></script>
  <!--suppress HtmlUnknownTarget -->
  <script src="${runmode}"></script>
  <!--suppress HtmlUnknownTarget -->
  <script src="${highlight_mode}"></script>
  <!--suppress HtmlUnknownTarget -->
  <script src="${javascript}"></script>
  <!--suppress HtmlUnknownTarget -->
  <script src="${language_script}"></script>
  <!--suppress CssInvalidPropertyValue -->
  <style media="screen" type="text/css">
    html, body {
      height:100%;
      overflow:hidden;
      font-size: ${font_size}pt !important;
    }
    .wrapper {
      overflow-y:scroll;
      height: 96%;
    }

    /*used to place task on Stepik link*/
    /*noinspection CssUnusedSymbol*/
    .footer {
      position:fixed;
      line-height: 3.5em;
      bottom: 0;
      right: 1%;
      width: 95%;
      text-align: right;
    }

  </style>
</head>
<body>
<div class=wrapper>
${code}
</div>
<script>
  var nodeList = document.body.getElementsByTagName("code");
  nodes = Array.prototype.slice.call(nodeList, 0);

  nodes.forEach(function (node) {
    var text = node.innerHTML
    node.innerHTML = text.replace(/<br\s*>/g, '\n')
  });

  CodeMirror.colorize(nodeList, "python")
  CodeMirror.colorize();
</script>
</body>
</html>