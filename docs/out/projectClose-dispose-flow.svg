<!-- Copyright 2000-2023 JetBrains s.r.o. and contributors. Use of this source code is governed by the Apache 2.0 license. -->
<svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" height="1161px" preserveAspectRatio="none" style="width:1292px;height:1161px;background:#FFFFFF;" version="1.1" viewBox="0 0 1292 1161" width="1292px" zoomAndPan="magnify">
  <style>
  @import url('https://fonts.googleapis.com/css?family=Roboto|Roboto+Mono&amp;display=swap');
  .text {
    font-family: 'Roboto', sans-serif;
    font-size: 14px;
  }
  .code {
    font-family: 'Roboto Mono', monospace;
    font-size: 14px;
  }
</style>
  <defs>
    <filter height="300%" id="f1ns6hg18zqabj" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2.0"/>
      <feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/>
    </filter>
    <style type="text/css">@import url('https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic');</style>
  </defs>
  <g>
    <path d="M948.75,16 L948.75,25.2441 L928.75,29.2441 L948.75,33.2441 L948.75,42.4883 A0,0 0 0 0 948.75,42.4883 L1280.75,42.4883 A0,0 0 0 0 1280.75,42.4883 L1280.75,26 L1270.75,16 L948.75,16 A0,0 0 0 0 948.75,16 " fill="#FAFAFA" filter="url(#f1ns6hg18zqabj)" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M1270.75,16 L1270.75,26 L1280.75,26 L1270.75,16 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/>
    <text class="text" textLength="311" x="954.75" y="34.5352">Project closing executed in a dispatch thread.</text>
    <rect fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" height="36.4883" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.0;" width="102" x="826.75" y="11"/>
    <text class="text" textLength="82" x="836.75" y="34.5352">closeProject</text>
    <rect fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" height="52.9766" style="stroke:#181818;stroke-width:1.0;" width="197" x="779.25" y="67.4883"/>
    <text class="text" textLength="62" x="846.75" y="91.0234">canClose</text>
    <text class="code" textLength="177" x="789.25" y="107.5117">(ep=ProjectCloseHandler)</text>
    <polygon fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" points="781.25,140.4648,974.25,140.4648,986.25,156.9531,974.25,173.4414,781.25,173.4414,769.25,156.9531,781.25,140.4648" style="stroke:#181818;stroke-width:1.0;"/>
    <text class="text" textLength="62" x="846.75" y="154">canClose</text>
    <text class="text" textLength="16" x="781.25" y="170.4883">    </text>
    <text class="code" textLength="177" x="797.25" y="170.4883">(ep=ProjectCloseHandler)</text>
    <text class="text" textLength="22" x="747.25" y="154">yes</text>
    <text class="text" textLength="18" x="986.25" y="154">no</text>
    <rect fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" height="36.4883" style="stroke:#181818;stroke-width:1.0;" width="181" x="508" y="183.4414"/>
    <text class="text" textLength="161" x="518" y="206.9766">Stop Service Preloading</text>
    <path d="M751.5,244.9297 L751.5,262.418 L731.5,266.418 L751.5,270.418 L751.5,287.9063 A0,0 0 0 0 751.5,287.9063 L1072.5,287.9063 A0,0 0 0 0 1072.5,287.9063 L1072.5,254.9297 L1062.5,244.9297 L751.5,244.9297 A0,0 0 0 0 751.5,244.9297 " fill="#FAFAFA" filter="url(#f1ns6hg18zqabj)" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M1062.5,244.9297 L1062.5,254.9297 L1072.5,254.9297 L1062.5,244.9297 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/>
    <text class="text" textLength="220" x="757.5" y="263.4648">In unit test mode in a light tests,</text>
    <text class="text" textLength="300" x="757.5" y="279.9531">light project is not closed and not disposed.</text>
    <rect fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" height="52.9766" style="stroke:#181818;stroke-width:1.0;" width="266" x="465.5" y="239.9297"/>
    <text class="text" textLength="26" x="475.5" y="263.4648">Fire</text>
    <text class="code" textLength="175" x="505.5" y="263.4648">projectClosingBeforeSave</text>
    <text class="text" textLength="37" x="684.5" y="263.4648">Event</text>
    <text class="code" textLength="186" x="505.5" y="279.9531">(l=ProjectManagerListener)</text>
    <rect fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" height="36.4883" style="stroke:#181818;stroke-width:1.0;" width="137" x="530" y="312.9063"/>
    <text class="text" textLength="117" x="540" y="336.4414">Save Project Files</text>
    <polygon fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" points="528,369.3945,669,369.3945,681,381.3945,669,393.3945,528,393.3945,516,381.3945,528,369.3945" style="stroke:#181818;stroke-width:1.0;"/>
    <text class="text" textLength="141" x="528" y="386.6855">Save Project Settings</text>
    <text class="text" textLength="198" x="318" y="378.4414">Successfully or Error Ignored</text>
    <text class="text" textLength="102" x="681" y="378.4414">Error Occurred</text>
    <rect fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" height="52.9766" style="stroke:#181818;stroke-width:1.0;" width="206" x="124.5" y="403.3945"/>
    <text class="text" textLength="26" x="142" y="426.9297">Fire</text>
    <text class="code" textLength="100" x="172" y="426.9297">projectClosing</text>
    <text class="text" textLength="37" x="276" y="426.9297">Event</text>
    <text class="code" textLength="186" x="134.5" y="443.418">(l=ProjectManagerListener)</text>
    <rect fill="none" filter="url(#f1ns6hg18zqabj)" height="678.2773" style="stroke:#000000;stroke-width:1.5;" width="874" x="11" y="466.3711"/>
    <path d="M101,466.3711 L101,475.8594 L91,485.8594 L11,485.8594 " fill="none" style="stroke:#000000;stroke-width:1.5;"/>
    <text class="text" textLength="80" x="14" y="480.9063">write action</text>
    <path d="M454,495.8594 L454,521.5918 L434,525.5918 L454,529.5918 L454,555.3242 A0,0 0 0 0 454,555.3242 L875,555.3242 A0,0 0 0 0 875,555.3242 L875,505.8594 L865,495.8594 L454,495.8594 A0,0 0 0 0 454,495.8594 " fill="#FAFAFA" filter="url(#f1ns6hg18zqabj)" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M865,495.8594 L865,505.8594 L875,505.8594 L865,495.8594 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/>
    <text class="text" textLength="241" x="460" y="514.3945">If you incorrectly specify project for</text>
    <text class="code" textLength="151" x="705" y="514.3945">MessageBus.connect()</text>
    <text class="text" textLength="4" x="856" y="514.3945">,</text>
    <text class="text" textLength="240" x="460" y="530.8828">it will be disconnected on this step.</text>
    <text class="text" textLength="97" x="460" y="547.3711">Do not specify</text>
    <text class="code" textLength="120" x="561" y="547.3711">parentDisposable</text>
    <text class="text" textLength="103" x="685" y="547.3711">unless needed.</text>
    <rect fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" height="36.4883" style="stroke:#181818;stroke-width:1.0;" width="413" x="21" y="507.3477"/>
    <text class="text" textLength="393" x="31" y="530.8828">Dispose everything that uses Project as parent disposable</text>
    <rect fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" height="52.9766" style="stroke:#181818;stroke-width:1.0;" width="329" x="63" y="575.3242"/>
    <text class="text" textLength="286" x="84.5" y="598.8594">Dispose Project Message Bus Connections</text>
    <text class="text" textLength="309" x="73" y="615.3477">without explicitly specified parent disposable</text>
    <path d="M401.5,638.3008 L401.5,672.2773 L381.5,676.2773 L401.5,680.2773 L401.5,714.2539 A0,0 0 0 0 401.5,714.2539 L842.5,714.2539 A0,0 0 0 0 842.5,714.2539 L842.5,648.3008 L832.5,638.3008 L401.5,638.3008 A0,0 0 0 0 401.5,638.3008 " fill="#FAFAFA" filter="url(#f1ns6hg18zqabj)" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M832.5,638.3008 L832.5,648.3008 L842.5,648.3008 L832.5,638.3008 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/>
    <text class="text" textLength="326" x="407.5" y="656.8359">Getting services and publishing to message bus</text>
    <text class="text" textLength="183" x="407.5" y="673.3242">is prohibited from now on.</text>
    <text class="code" textLength="125" x="407.5" y="689.8125">Project.isDisposed</text>
    <text class="text" textLength="50" x="536.5" y="689.8125">returns</text>
    <text class="code" textLength="28" x="590.5" y="689.8125">true</text>
    <text class="text" textLength="205" x="622.5" y="689.8125">(not changed in a read action,</text>
    <text class="text" textLength="254" x="407.5" y="706.3008">because state is set in a write action).</text>
    <rect fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" height="36.4883" style="stroke:#181818;stroke-width:1.0;" width="308" x="73.5" y="658.0332"/>
    <text class="text" textLength="128" x="83.5" y="681.5684">Set Project State to</text>
    <text class="code" textLength="156" x="215.5" y="681.5684">DISPOSE_IN_PROGRESS</text>
    <path d="M436.5,739.2539 L436.5,748.498 L416.5,752.498 L436.5,756.498 L436.5,765.7422 A0,0 0 0 0 436.5,765.7422 L834.5,765.7422 A0,0 0 0 0 834.5,765.7422 L834.5,749.2539 L824.5,739.2539 L436.5,739.2539 A0,0 0 0 0 436.5,739.2539 " fill="#FAFAFA" filter="url(#f1ns6hg18zqabj)" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M824.5,739.2539 L824.5,749.2539 L834.5,749.2539 L824.5,739.2539 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/>
    <text class="text" textLength="377" x="442.5" y="757.7891">Connecting to message bus is prohibited from now on.</text>
    <rect fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" height="36.4883" style="stroke:#181818;stroke-width:1.0;" width="378" x="38.5" y="734.2539"/>
    <text class="text" textLength="358" x="48.5" y="757.7891">Dispose Project Message Bus Connection Disposable</text>
    <path d="M380,787.498 L380,804.9863 L360,808.9863 L380,812.9863 L380,830.4746 A0,0 0 0 0 380,830.4746 L699,830.4746 A0,0 0 0 0 699,830.4746 L699,797.498 L689,787.498 L380,787.498 A0,0 0 0 0 380,787.498 " fill="#FAFAFA" filter="url(#f1ns6hg18zqabj)" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M689,787.498 L689,797.498 L699,797.498 L689,787.498 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/>
    <text class="text" textLength="60" x="386" y="806.0332">Result of</text>
    <text class="code" textLength="234" x="450" y="806.0332">ProjectManager.getOpenProjects()</text>
    <text class="text" textLength="194" x="386" y="822.5215">is valid only in a read action.</text>
    <rect fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" height="36.4883" style="stroke:#181818;stroke-width:1.0;" width="265" x="95" y="790.7422"/>
    <text class="text" textLength="245" x="105" y="814.2773">Remove Project from List of Opened</text>
    <rect fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" height="52.9766" style="stroke:#181818;stroke-width:1.0;" width="206" x="124.5" y="850.4746"/>
    <text class="text" textLength="26" x="144.5" y="874.0098">Fire</text>
    <text class="code" textLength="95" x="174.5" y="874.0098">projectClosed</text>
    <text class="text" textLength="37" x="273.5" y="874.0098">Event</text>
    <text class="code" textLength="186" x="134.5" y="890.498">(l=ProjectManagerListener)</text>
    <rect fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" height="36.4883" style="stroke:#181818;stroke-width:1.0;" width="219" x="118" y="923.4512"/>
    <text class="text" textLength="128" x="128" y="946.9863">Set Project State to</text>
    <text class="code" textLength="67" x="260" y="946.9863">DISPOSED</text>
    <path d="M375,976.6953 L375,994.1836 L355,998.1836 L375,1002.1836 L375,1019.6719 A0,0 0 0 0 375,1019.6719 L649,1019.6719 A0,0 0 0 0 649,1019.6719 L649,986.6953 L639,976.6953 L375,976.6953 A0,0 0 0 0 375,976.6953 " fill="#FAFAFA" filter="url(#f1ns6hg18zqabj)" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M639,976.6953 L639,986.6953 L649,986.6953 L639,976.6953 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/>
    <text class="text" textLength="187" x="381" y="995.2305">First created, last disposed.</text>
    <text class="text" textLength="253" x="381" y="1011.7188">Children are disposed before parent.</text>
    <rect fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" height="36.4883" style="stroke:#181818;stroke-width:1.0;" width="255" x="100" y="979.9395"/>
    <text class="text" textLength="235" x="110" y="1003.4746">Dispose Services and Components</text>
    <rect fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" height="36.4883" style="stroke:#181818;stroke-width:1.0;" width="165" x="145" y="1039.6719"/>
    <text class="text" textLength="145" x="155" y="1063.207">Dispose Message Bus</text>
    <rect fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" height="36.4883" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.0;" width="299" x="78" y="1096.1602"/>
    <text class="text" textLength="128" x="88" y="1119.6953">Set Project State to</text>
    <text class="code" textLength="147" x="220" y="1119.6953">DISPOSE_COMPLETED</text>
    <rect fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" height="36.4883" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.0;" width="129" x="905" y="403.3945"/>
    <text class="text" textLength="109" x="915" y="426.9297">Close Cancelled</text>
    <rect fill="#F1F1F1" filter="url(#f1ns6hg18zqabj)" height="36.4883" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.0;" width="129" x="1092.5" y="183.4414"/>
    <text class="text" textLength="109" x="1102.5" y="206.9766">Close Cancelled</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="877.75" x2="877.75" y1="47.4883" y2="67.4883"/>
    <polygon fill="#181818" points="873.75,57.4883,877.75,67.4883,881.75,57.4883,877.75,61.4883" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="598.5" x2="598.5" y1="219.9297" y2="239.9297"/>
    <polygon fill="#181818" points="594.5,229.9297,598.5,239.9297,602.5,229.9297,598.5,233.9297" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="598.5" x2="598.5" y1="292.9063" y2="312.9063"/>
    <polygon fill="#181818" points="594.5,302.9063,598.5,312.9063,602.5,302.9063,598.5,306.9063" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="227.5" x2="227.5" y1="543.8359" y2="575.3242"/>
    <polygon fill="#181818" points="223.5,565.3242,227.5,575.3242,231.5,565.3242,227.5,569.3242" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="227.5" x2="227.5" y1="628.3008" y2="658.0332"/>
    <polygon fill="#181818" points="223.5,648.0332,227.5,658.0332,231.5,648.0332,227.5,652.0332" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="227.5" x2="227.5" y1="694.5215" y2="734.2539"/>
    <polygon fill="#181818" points="223.5,724.2539,227.5,734.2539,231.5,724.2539,227.5,728.2539" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="227.5" x2="227.5" y1="770.7422" y2="790.7422"/>
    <polygon fill="#181818" points="223.5,780.7422,227.5,790.7422,231.5,780.7422,227.5,784.7422" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="227.5" x2="227.5" y1="827.2305" y2="850.4746"/>
    <polygon fill="#181818" points="223.5,840.4746,227.5,850.4746,231.5,840.4746,227.5,844.4746" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="227.5" x2="227.5" y1="903.4512" y2="923.4512"/>
    <polygon fill="#181818" points="223.5,913.4512,227.5,923.4512,231.5,913.4512,227.5,917.4512" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="227.5" x2="227.5" y1="959.9395" y2="979.9395"/>
    <polygon fill="#181818" points="223.5,969.9395,227.5,979.9395,231.5,969.9395,227.5,973.9395" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="227.5" x2="227.5" y1="1016.4277" y2="1039.6719"/>
    <polygon fill="#181818" points="223.5,1029.6719,227.5,1039.6719,231.5,1029.6719,227.5,1033.6719" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="227.5" x2="227.5" y1="1076.1602" y2="1096.1602"/>
    <polygon fill="#181818" points="223.5,1086.1602,227.5,1096.1602,231.5,1086.1602,227.5,1090.1602" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="227.5" x2="227.5" y1="456.3711" y2="507.3477"/>
    <polygon fill="#181818" points="223.5,497.3477,227.5,507.3477,231.5,497.3477,227.5,501.3477" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="516" x2="227.5" y1="381.3945" y2="381.3945"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="227.5" x2="227.5" y1="381.3945" y2="403.3945"/>
    <polygon fill="#181818" points="223.5,393.3945,227.5,403.3945,231.5,393.3945,227.5,397.3945" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="681" x2="969.5" y1="381.3945" y2="381.3945"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="969.5" x2="969.5" y1="381.3945" y2="403.3945"/>
    <polygon fill="#181818" points="965.5,393.3945,969.5,403.3945,973.5,393.3945,969.5,397.3945" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="598.5" x2="598.5" y1="349.3945" y2="369.3945"/>
    <polygon fill="#181818" points="594.5,359.3945,598.5,369.3945,602.5,359.3945,598.5,363.3945" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="769.25" x2="598.5" y1="156.9531" y2="156.9531"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="598.5" x2="598.5" y1="156.9531" y2="183.4414"/>
    <polygon fill="#181818" points="594.5,173.4414,598.5,183.4414,602.5,173.4414,598.5,177.4414" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="986.25" x2="1157" y1="156.9531" y2="156.9531"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="1157" x2="1157" y1="156.9531" y2="183.4414"/>
    <polygon fill="#181818" points="1153,173.4414,1157,183.4414,1161,173.4414,1157,177.4414" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="877.75" x2="877.75" y1="120.4648" y2="140.4648"/>
    <polygon fill="#181818" points="873.75,130.4648,877.75,140.4648,881.75,130.4648,877.75,134.4648" style="stroke:#181818;stroke-width:1.0;"/>
  </g>
</svg>
