<idea-plugin>
  <actions>
    <action id="FileChooser.GotoModule" class="com.intellij.openapi.fileChooser.actions.GotoModuleDirectory"
            icon="AllIcons.Actions.ModuleDirectory">
      <add-to-group group-id="FileChooserToolbar" anchor="after" relative-to-action="FileChooser.GotoProject"/>
    </action>


    <group id="NewGroup1">
      <action id="NewModuleInGroup" class="com.intellij.openapi.roots.ui.configuration.actions.NewModuleInGroupAction"
              icon="AllIcons.Nodes.Module"/>

      <add-to-group group-id="NewGroup" anchor="first"/>
    </group>

    <!-- File -->

    <group id="JavaNewProjectOrModuleGroup">
      <action id="NewProject" class="com.intellij.ide.actions.NewProjectAction" text="Project..."/>
      <action id="ImportProject" class="com.intellij.ide.actions.ImportProjectAction" text="Project from Existing Sources..."/>
      <group id="NewProjectFromVCS" class="com.intellij.openapi.vcs.checkout.NewProjectFromVCSGroup" text="Project from Version Control"
             popup="true"/>
      <separator/>
      <action id="NewModule" class="com.intellij.openapi.roots.ui.configuration.actions.NewModuleAction" text="Module..."/>
      <action id="ImportModule" class="com.intellij.ide.actions.ImportModuleAction" text="Module from Existing Sources..."/>

      <add-to-group group-id="NewProjectOrModuleGroup"/>
    </group>

    <action id="SaveAsNewFormat" class="com.intellij.ide.actions.SaveAsDirectoryBasedFormatAction" text="Save as Directory-Based Format...">
      <add-to-group group-id="ExportImportGroup" anchor="last"/>
    </action>

    <action id="ConvertModuleGroupsToQualifiedNames" class="com.intellij.ide.actions.project.ConvertModuleGroupsToQualifiedNamesAction">
      <add-to-group group-id="FileMainSettingsGroup" anchor="last"/>
    </action>

    <action id="ShowProjectStructureSettings" class="com.intellij.ide.actions.ShowStructureSettingsAction"
            icon="AllIcons.General.ProjectStructure">
      <add-to-group group-id="FileMainSettingsGroup" anchor="after" relative-to-action="ShowSettings"/>
      <add-to-group group-id="MainToolBarSettings" anchor="after" relative-to-action="ShowSettings"/>
      <add-to-group group-id="NavBarToolBar" relative-to-action="NavBarToolBarOthers" anchor="after"/>
    </action>
    <action id="TemplateProjectStructure" class="com.intellij.ide.actions.TemplateProjectStructureAction">
      <add-to-group group-id="FileSettingsGroup" anchor="last"/>
    </action>
    <action id="ShowSiblings" class="com.intellij.codeInsight.hint.actions.ShowSiblingsAction">
      <add-to-group group-id="QuickActions" anchor="after" relative-to-action="QuickImplementations"/>
    </action>
    <action id="ShowRecentTests" class="com.intellij.testIntegration.ShowRecentTests">
      <keyboard-shortcut first-keystroke="control shift SEMICOLON" keymap="$default"/>
    </action>

    <action class="com.intellij.execution.testDiscovery.actions.ShowAffectedTestsAction" id="ShowDiscoveredTests"
            text="Show Affected Tests">
      <add-to-group group-id="RunMenu" anchor="before" relative-to-action="DebugMainMenu"/>
      <add-to-group group-id="ChangesViewPopupMenu" anchor="last"/>
    </action>

    <action class="com.intellij.execution.testDiscovery.actions.FindUnusedTestDataAction" id="FindUsedTestData"
            text="Find Unused Test Data" internal="true"/>

    <action id="JShell.Console"
            class="com.intellij.execution.jshell.LaunchJShellConsoleAction"
            text="JShell Console..." description="Launch JShell Console">
      <add-to-group group-id="ToolsMenu" anchor="last"/>
    </action>

    <!-- View -->
    <reference ref="DelegateMethods">
      <add-to-group group-id="CodeMenu" anchor="after" relative-to-action="ImplementMethods"/>
    </reference>

    <!-- Analyze -->
    <group overrides="true" class="com.intellij.openapi.actionSystem.EmptyActionGroup" id="AnalyzePlatformMenu"/>
    <group overrides="true" class="com.intellij.openapi.actionSystem.EmptyActionGroup" id="InspectCodeInCodeMenuGroup"/>
    <group overrides="true" class="com.intellij.openapi.actionSystem.EmptyActionGroup" id="InspectCodeActionInPopupMenus"/>

    <group id="AnalyzeActions">
    </group>

    <group id="AnalyzeMenu" popup="true">
      <reference ref="InspectCodeGroup"/>
      <separator/>
      <reference ref="AnalyzeActions"/>
      <add-to-group group-id="MainMenu" anchor="after" relative-to-action="CodeMenu"/>
    </group>

    <group id="Java.BuildMenu">
      <action id="CompileDirty" class="com.intellij.compiler.actions.CompileDirtyAction" icon="AllIcons.Actions.Compile">
        <add-to-group group-id="TouchBarDefault" anchor="before" relative-to-action="RunConfiguration"/>
      </action>
      <action id="MakeModule" class="com.intellij.compiler.actions.MakeModuleAction"/>
      <action id="Compile" class="com.intellij.compiler.actions.CompileAction"/>
      <separator/>
      <action id="CompileProject" class="com.intellij.compiler.actions.CompileProjectAction"/>
      <separator/>
      <action id="GenerateAntBuild" class="com.intellij.compiler.actions.GenerateAntBuildAction"/>
      <separator/>
      <action id="BuildArtifact" class="com.intellij.compiler.actions.BuildArtifactAction"/>

      <add-to-group group-id="BuildMenu"/>
    </group>

    <action id="DebugBuildProcess" class="com.intellij.compiler.actions.DebugBuildProcessToggleAction"/>

    <group id="CompilerErrorViewPopupMenu">
      <action id="ExcludeFromValidation" class="com.intellij.compiler.options.ExcludeFromValidationAction"/>
    </group>

    <!-- Tools -->
    <group id="Internal1" text="IDEA Internal Actions" internal="true">
      <separator/>
      <action id="Merge3Files" internal="true" class="com.intellij.openapi.diff.actions.MergeFilesAction"/>
      <separator/>
      <action internal="true" id="DecodeBytesAction" class="com.intellij.internal.encodings.DecodeBytesAction"/>
      <group id="Internal.Dump" text="Dump" internal="true" popup="true">
        <action id="DumpExtensions" internal="true" text="Dump Extensions" class="com.intellij.internal.DumpExtensionsAction"/>
        <action id="DumpInspectionDescriptions" internal="true" class="com.intellij.internal.DumpInspectionDescriptionsAction"/>
        <action id="DumpIntentionsDescriptions" internal="true" class="com.intellij.internal.DumpIntentionsAction"/>
        <action id="DumpConfigurationTypes" internal="true" class="com.intellij.internal.DumpConfigurationTypesAction"/>
        <action id="DumpDirectoryIndex" internal="true" class="com.intellij.internal.DumpDirectoryInfoAction"/>
        <action id="ScanSourceCommentsAction" internal="true" class="com.intellij.tools.ScanSourceCommentsAction"
                text="Dump All Comments In Project"/>
        <action id="DumpScreenConfiguration" text="Dump Screen Configuration" class="com.intellij.internal.DumpScreenConfigurationAction"/>
      </group>

      <separator/>
      <group internal="true" text="Cached Value Profiler" popup="true">
        <action id="TurnOnOffCachedValueProfilerAction" class="com.intellij.internal.cachedValueProfiler.TurnOnOffCachedValueProfilerAction"
                text="Turn on Cached Value Profiler" internal="true"/>
        <action id="DumpCachedValueProfilerInfoAction" class="com.intellij.internal.cachedValueProfiler.DumpCachedValueProfilerInfoAction"
                text="Dump Results" internal="true"/>
      </group>

      <separator/>
      <group id="Internal.VFS" text="VFS" popup="true">
        <action id="VirtualFileInfo" internal="true" class="com.intellij.openapi.vfs.impl.local.VirtualFileInfoAction"/>
        <action id="MarkFileDirty" internal="true" class="com.intellij.openapi.vcs.changes.actions.MarkFileDirtyAction"
                text="Mark File Dirty"/>
        <separator/>
        <action id="CheckVfsSanity" internal="true" class="com.intellij.openapi.vfs.newvfs.persistent.CheckSanityAction"
                text="Check VFS Sanity"/>
        <action id="LoadAllContent" internal="true" class="com.intellij.internal.LoadAllContentsAction" text="Load All Files Content"/>
        <action id="LoadAllVFSContent" internal="true" class="com.intellij.internal.LoadAllVfsStoredContentsAction"
                text="Load All VFS Stored Files Content"/>
        <action id="ComputeVFStatistics" internal="true" class="com.intellij.internal.ComputeVirtualFileNameStatAction"/>
        <action id="DumpVfsInfoForExcludedFiles" internal="true" class="com.intellij.internal.DumpVfsInfoForExcludedFilesAction"/>
        <separator/>
        <action internal="true" id="PruneEmptyDirectories" class="com.intellij.ide.actions.PruneEmptyDirectoriesAction"
                text="Prune Empty Directories"/>
        <action internal="true" id="FixLineSeparators" class="com.intellij.ide.actions.FixLineSeparatorsAction" text="Fix Line Separators"/>
        <separator/>
        <action internal="true" id="ValidateLocalHistory" class="com.intellij.history.integration.ValidateHistoryAction"
                text="Validate Local History Storage"/>
      </group>

      <separator/>

      <add-to-group group-id="Internal" anchor="last"/>
    </group>

    <action internal="true" id="TestParseEventLogWhitelistAction"
            class="com.intellij.internal.statistic.actions.TestParseEventLogWhitelistAction"
            text="Test Parsing Event Log Whitelist...">
      <add-to-group group-id="FeatureUsage.Internal" anchor="last"/>
    </action>

    <action internal="true" id="CollectFUStatisticsAction"
            class="com.intellij.internal.statistic.actions.CollectFUStatisticsAction"
            text="Collect Statistics from Collector...">
      <add-to-group group-id="FeatureUsage.Internal" anchor="last"/>
    </action>

    <!-- Help -->
    <action id="WhatsNewAction" class="com.intellij.ide.actions.WhatsNewAction">
      <add-to-group group-id="HelpMenu" anchor="after" relative-to-action="ShowTips"/>
    </action>

    <!-- Toolbar -->

    <group id="ToolbarMakeGroup">
      <reference ref="CompileDirty"/>

      <add-to-group group-id="ToolbarRunGroup" relative-to-action="RunConfiguration" anchor="before"/>
    </group>

    <group id="EditorTabCompileGroup">
      <reference ref="Compile"/>
      <add-to-group group-id="EditorTabPopupMenuEx" anchor="before" relative-to-action="RunContextPopupGroup"/>
    </group>

    <action id="ModuleSettings" class="com.intellij.ide.actions.ShowModulePropertiesAction"/>
    <action id="OpenModuleSettings" class="com.intellij.ide.actions.OpenModuleSettingsAction" use-shortcut-of="EditSource"/>
    <action id="LoadUnloadModules" class="com.intellij.ide.projectView.actions.LoadUnloadModulesAction">
      <add-to-group group-id="ProjectViewPopupMenuSettingsGroup" anchor="after" relative-to-action="OpenModuleSettings"/>
    </action>
    <group id="MoveModuleToGroup" class="com.intellij.ide.projectView.impl.MoveModuleToGroupTopLevel" popup="true"/>

    <reference ref="AnalyzeMenu">
      <add-to-group group-id="ProjectViewPopupMenu" anchor="after" relative-to-action="ReplaceInPath"/>
      <add-to-group group-id="NavbarPopupMenu" anchor="after" relative-to-action="ReplaceInPath"/>
      <add-to-group group-id="FavoritesViewPopupMenu" anchor="after" relative-to-action="ReplaceInPath"/>
      <add-to-group group-id="EditorPopupMenu1" anchor="after" relative-to-action="FindUsages"/>
    </reference>

    <group id="ProjectViewAnalysisGroup">
      <add-to-group group-id="ProjectViewPopupMenuModifyGroup" anchor="first"/>
    </group>

    <group id="ProjectViewCompileGroup">
      <reference ref="MakeModule"/>
      <reference ref="Compile"/>

      <add-to-group group-id="ProjectViewPopupMenuRunGroup" anchor="first"/>
    </group>

    <action id="PackageFile" class="com.intellij.packaging.impl.ui.actions.PackageFileAction" use-shortcut-of="Compile">
      <add-to-group group-id="EditorPopupMenu" anchor="after" relative-to-action="Compile"/>
      <add-to-group group-id="ProjectViewPopupMenu" anchor="before" relative-to-action="MakeModule"/>
      <add-to-group group-id="FavoritesViewPopupMenu" anchor="before" relative-to-action="MakeModule"/>
      <add-to-group group-id="ScopeViewPopupMenu" anchor="before" relative-to-action="MakeModule"/>
    </action>


    <reference ref="OpenModuleSettings">
      <add-to-group group-id="ProjectViewPopupMenuSettingsGroup" anchor="first"/>
    </reference>
    <reference ref="MoveModuleToGroup">
      <add-to-group group-id="ProjectViewPopupMenuSettingsGroup" anchor="after" relative-to-action="OpenModuleSettings"/>
    </reference>

    <group id="StructureViewCompileGroup">
      <separator/>
      <reference ref="Compile"/>

      <add-to-group group-id="StructureViewPopupMenu" anchor="after" relative-to-action="RunContextPopupGroup"/>
    </group>

    <group id="ShowPackageDepsGroup"/>

    <group id="CommanderPopupMenu">
      <reference ref="NewGroup"/>
      <reference ref="AssociateWithFileType"/>
      <separator/>
      <reference ref="CutCopyPasteGroup"/>
      <reference ref="EditSource"/>
      <separator/>
      <reference ref="FindUsages"/>
      <reference ref="FindInPath"/>
      <reference ref="ReplaceInPath"/>
      <reference ref="InspectCode"/>
      <reference ref="ShowPackageDepsGroup"/>
      <reference ref="RefactoringMenu"/>
      <separator/>
      <reference ref="AddToFavorites"/>
      <separator/>
      <reference ref="TypeHierarchy"/>
      <reference ref="ReformatCode"/>
      <reference ref="OptimizeImports"/>
      <reference ref="$Delete"/>
      <separator/>
      <reference ref="Compile"/>
      <reference ref="RunContextPopupGroup"/>
      <separator/>
      <reference ref="VersionControlsGroup"/>

      <reference ref="CompareTwoFiles"/>
      <reference ref="CompareFileWithEditor"/>
      <separator/>
      <reference ref="ExternalToolsGroup"/>
    </group>

    <!--  TODO: fix
      <group id="UsageView.Popup">-->
    <!--<reference ref="EditSource"/>-->
    <!--<action id="UsageView.Include" class="com.intellij.usages.actions.IncludeUsageAction"/>-->
    <!--<action id="UsageView.Exclude" class="com.intellij.usages.actions.ExcludeUsageAction"/>-->
    <!--<separator/>-->
    <!--<reference ref="AddToFavorites"/>-->
    <!--<reference ref="FindUsages"/>-->
    <!--<action id="UsageView.ShowRecentFindUsages" class="com.intellij.find.impl.ShowRecentFindUsagesAction" icon="/actions/back.png"/>-->
    <!--<separator/>-->
    <!--<reference ref="VersionControlsGroup"/>-->
    <!--<separator/>-->
    <!--<reference ref="ExternalToolsGroup"/>-->
    <!--</group>-->

    <!-- ****************************************************************** -->

    <group id="WelcomeScreen.Documentation.IDEA">
      <action id="WelcomeScreen.DevelopPlugins" class="com.intellij.openapi.wm.impl.welcomeScreen.DevelopPluginsAction"/>
      <add-to-group group-id="WelcomeScreen.Documentation" anchor="last"/>
    </group>

    <action id="WelcomeScreen.Configure.ProjectStructure" class="com.intellij.ide.actions.TemplateProjectStructureAction">
      <add-to-group group-id="WelcomeScreen.Configure" anchor="before" relative-to-action="RunConfigurationTemplatesForNewProjects"/>
    </action>

    <action id="AddFrameworkSupport" class="com.intellij.ide.util.frameworkSupport.AddFrameworkSupportAction">
      <add-to-group group-id="ProjectViewPopupMenu" anchor="after" relative-to-action="WeighingNewGroup"/>
      <add-to-group group-id="NavbarPopupMenu" anchor="after" relative-to-action="WeighingNewGroup"/>
    </action>

    <group>
      <action id="CreateLibraryFromFile" class="com.intellij.ide.projectView.actions.MarkLibraryRootAction"/>
      <action id="ImportModuleFromImlFile" class="com.intellij.ide.projectView.actions.ImportModuleFromImlFileAction"/>
      <add-to-group group-id="ProjectViewPopupMenuSettingsGroup" relative-to-action="MarkRootGroup" anchor="after"/>
    </group>

    <action id="ChangesView.GroupBy.Module" text="Module" class="com.intellij.openapi.vcs.changes.actions.SetModuleChangesGroupingAction">
      <add-to-group group-id="ChangesView.GroupBy"/>
    </action>

    <group id="JavaGenerateGroup1">
      <action id="GenerateTestMethod" class="com.intellij.testIntegration.GenerateTestMethodAction"/>
      <action id="GenerateSetUpMethod" class="com.intellij.testIntegration.GenerateSetUpMethodAction"/>
      <action id="GenerateTearDownMethod" class="com.intellij.testIntegration.GenerateTearDownMethodAction"/>
      <action id="GenerateDataMethod" class="com.intellij.testIntegration.GenerateDataMethodAction"/>
      <separator/>
      <action id="GenerateConstructor" class="com.intellij.codeInsight.generation.actions.GenerateConstructorAction"/>
      <action id="GenerateGetter" class="com.intellij.codeInsight.generation.actions.GenerateGetterAction"/>
      <action id="GenerateSetter" class="com.intellij.codeInsight.generation.actions.GenerateSetterAction"/>
      <action id="GenerateGetterAndSetter" class="com.intellij.codeInsight.generation.actions.GenerateGetterAndSetterAction"/>
      <action id="GenerateEquals" class="com.intellij.codeInsight.generation.actions.GenerateEqualsAction"/>
      <action id="Actions.ActionsPlugin.GenerateToString" class="org.jetbrains.java.generate.GenerateToStringAction" text="to_String()" description="Generate toString() method"/>
      <action id="GenerateCreateUI" class="com.intellij.codeInsight.generation.actions.GenerateCreateUIAction"/>
      <add-to-group group-id="GenerateGroup" anchor="first"/>
    </group>

    <group id="JavaGenerateGroup2">
      <action id="GenerateSuperMethodCall" class="com.intellij.codeInsight.generation.actions.GenerateSuperMethodCallAction"/>
      <add-to-group group-id="GenerateGroup" anchor="last"/>
    </group>

    <action id="NewClass" class="com.intellij.ide.actions.CreateClassAction">
      <add-to-group group-id="NewGroup1" anchor="first"/>
    </action>

    <group id="NewJavaSpecialFile">
      <action id="NewPackageInfo" class="com.intellij.ide.actions.CreatePackageInfoAction"/>
      <action id="NewModuleInfo" class="com.intellij.ide.actions.CreateModuleInfoAction"/>
      <add-to-group group-id="NewGroup" anchor="after" relative-to-action="NewDir"/>
    </group>

    <action id="InferNullity" class="com.intellij.codeInspection.inferNullity.InferNullityAnnotationsAction">
      <add-to-group group-id="InspectCodeGroup" anchor="after" relative-to-action="ViewOfflineInspection"/>
    </action>

    <action id="GenerateModuleDescriptors" class="com.intellij.codeInspection.java19api.Java9GenerateModuleDescriptorsAction">
      <add-to-group group-id="CodeMenu" anchor="last"/>
    </action>

    <group id="AnalyzeJavaMenu">
      <action id="ShowPackageCycles" class="com.intellij.cyclicDependencies.actions.CyclicDependenciesAction"/>
      <separator/>
      <reference id="SliceBackward"/>
      <reference id="SliceForward"/>
      <separator/>
      <action id="Unscramble" class="com.intellij.unscramble.UnscrambleAction" overrides="true"/>
      <add-to-group group-id="AnalyzeMenu" anchor="last"/>
    </group>

    <group id="RefactoringMenu1">
      <action id="ChangeTypeSignature" class="com.intellij.refactoring.typeMigration.actions.ChangeTypeSignatureAction"/>
      <action id="MakeStatic" class="com.intellij.refactoring.actions.MakeStaticAction"/>
      <action id="ConvertToInstanceMethod" class="com.intellij.refactoring.actions.ConvertToInstanceMethodAction"/>
      <add-to-group group-id="RefactoringMenu" anchor="after" relative-to-action="ChangeSignature"/>
    </group>

    <group id="RefactoringMenu2">
      <action id="MethodDuplicates" class="com.intellij.refactoring.actions.MethodDuplicatesAction"/>

      <add-to-group group-id="RefactoringMenu" anchor="after" relative-to-action="Inline"/>
    </group>

    <action id="ReplaceMethodWithMethodObject" class="com.intellij.refactoring.actions.ReplaceMethodWithMethodObjectAction">
      <add-to-group group-id="IntroduceActionsGroup" anchor="after" relative-to-action="ExtractMethod"/>
    </action>

    <action id="IntroduceFunctionalParameter" class="com.intellij.refactoring.actions.IntroduceFunctionalParameterAction">
      <add-to-group group-id="IntroduceActionsGroup" anchor="before" relative-to-action="IntroduceParameterObject"/>
      <keyboard-shortcut first-keystroke="control shift alt P" keymap="$default"/>
    </action>

    <action id="IntroduceFunctionalVariable" class="com.intellij.refactoring.actions.IntroduceFunctionalVariableAction">
      <add-to-group group-id="IntroduceActionsGroup" anchor="after" relative-to-action="IntroduceFunctionalParameter"/>
    </action>

    <group id="RefactoringMenuRenameFile">
      <reference id="RenameFile"/>
      <add-to-group group-id="RefactoringMenu" anchor="after" relative-to-action="RenameElement"/>
    </group>

    <group id="RefactoringMenu4">
      <action id="TurnRefsToSuper" class="com.intellij.refactoring.actions.TurnRefsToSuperAction"/>
      <action id="InheritanceToDelegation" class="com.intellij.refactoring.actions.InheritanceToDelegationAction"/>
      <action id="RemoveMiddleman" class="com.intellij.refactoring.actions.RemoveMiddlemanAction"/>
      <action id="WrapReturnValue" class="com.intellij.refactoring.wrapreturnvalue.WrapReturnValueAction"/>
      <separator/>
      <action id="EncapsulateFields" class="com.intellij.refactoring.actions.EncapsulateFieldsAction"/>
      <action id="ReplaceTempWithQuery" class="com.intellij.refactoring.actions.TempWithQueryAction"/>
      <action id="ReplaceConstructorWithFactory" class="com.intellij.refactoring.actions.ReplaceConstructorWithFactoryAction"/>
      <action id="ReplaceConstructorWithBuilder" class="com.intellij.refactoring.actions.ReplaceConstructorWithBuilderAction"/>
      <separator/>
      <action id="Generify" class="com.intellij.refactoring.actions.TypeCookAction"/>
      <action id="Migrate" class="com.intellij.refactoring.actions.MigrateAction"/>
      <separator/>

      <add-to-group group-id="RefactoringMenu" anchor="after" relative-to-action="MemberPushDown"/>
    </group>

    <!-- The action remains for compabitility but is not added to menus because it does the same thing as Move, which is now
         correctly labeled -->
    <action id="AnonymousToInner" class="com.intellij.refactoring.actions.AnonymousToInnerAction"/>

    <action id="Hotswap" class="com.intellij.debugger.actions.HotSwapAction">
      <add-to-group group-id="DebugMainMenu" anchor="after" relative-to-action="UpdateRunningApplication"/>
    </action>

    <action id="Debugger.PopFrame" class="com.intellij.debugger.actions.PopFrameAction" icon="AllIcons.Actions.PopFrame">
      <add-to-group group-id="DebugMainMenu" anchor="after" relative-to-action="ForceRunToCursor"/>
      <add-to-group group-id="XDebugger.Frames.Tree.Popup" anchor="first"/>
      <add-to-group group-id="XDebugger.ToolWindow.TopToolbar" anchor="before" relative-to-action="RunToCursor"/>
    </action>

    <group id="ToggleBreakpointAction">
      <action id="ToggleMethodBreakpoint" class="com.intellij.debugger.actions.ToggleMethodBreakpointAction"/>
      <action id="ToggleFieldBreakpoint" class="com.intellij.debugger.actions.ToggleFieldBreakpointAction">
        <add-to-group group-id="XDebugger.ValueGroup" anchor="after" relative-to-action="Debugger.AddToWatch"/>
      </action>
      <!--Moved to XDebugger <action id="ToggleBreakpointEnabled" class="com.intellij.debugger.actions.ToggleBreakpointEnabledAction"/>-->
      <add-to-group group-id="DebugMainMenu" anchor="after" relative-to-action="ToggleLineBreakpoint"/>
    </group>

    <action id="ExportThreads" class="com.intellij.debugger.actions.ExportThreadsAction" icon="AllIcons.ToolbarDecorator.Export">
      <add-to-group group-id="XDebugger.Frames.Tree.Popup"/>
      <add-to-group group-id="XDebugger.Actions"/>
    </action>
    <action id="DumpThreads" class="com.intellij.debugger.actions.ThreadDumpAction" text="Get Thread Dump" icon="AllIcons.Actions.Dump">
      <add-to-group group-id="RunMenu" anchor="last"/>
    </action>

    <action id="GenerateJavadoc" class="com.intellij.javadoc.actions.GenerateJavadocAction">
      <add-to-group group-id="ToolsBasicGroup" anchor="after" relative-to-action="SaveFileAsTemplate"/>
    </action>

    <action id="DebugListen" internal="true" class="com.intellij.debugger.actions.ThrowDebugExceptionAction">
      <add-to-group group-id="Internal.Errors"/>
    </action>

    <group id="Internal.Java" text="Java" popup="true" internal="true" compact="true">
      <action id="GenerateVisitorByHierarchy" internal="true" class="com.intellij.internal.GenerateVisitorByHierarchyAction"
              text="Generate Hierarchy Visitor..."/>

      <action id="UsedIconsListing" internal="true" class="com.intellij.internal.UsedIconsListingAction"
              text="List Used Icons"/>
      <action id="ExpressionStatistics" internal="true" class="com.intellij.internal.ExpressionStatisticsAction"
              text="Collect Java Expression Statistics"/>

      <action id="StaticIconFields" internal="true" class="com.intellij.internal.StaticIconFieldsAction"
              text="List Static Field Initializers"/>

      <add-to-group group-id="Internal"/>
    </group>

    <group id="JavaDebuggerActions">
      <action id="Debugger.CustomizeContextView" class="com.intellij.debugger.actions.CustomizeContextViewAction">
        <add-to-group group-id="XDebugger.Variables.Tree.Popup" anchor="last"/>
        <add-to-group group-id="XDebugger.Watches.Tree.Popup" anchor="last"/>
      </action>
      <action id="Debugger.NewCustomField" class="com.intellij.debugger.actions.NewCustomFieldAction">
        <add-to-group group-id="XDebugger.Variables.Tree.Popup" anchor="first"/>
        <add-to-group group-id="XDebugger.Watches.Tree.Popup" anchor="after" relative-to-action="XDebugger.NewWatch"/>
      </action>
      <action id="Debugger.EditCustomField" class="com.intellij.debugger.actions.EditCustomFieldAction" use-shortcut-of="XDebugger.SetValue">
        <add-to-group group-id="XDebugger.Variables.Tree.Popup" anchor="first"/>
        <add-to-group group-id="XDebugger.Watches.Tree.Popup" anchor="after" relative-to-action="XDebugger.EditWatch"/>
      </action>
      <action id="Debugger.RemoveCustomField" class="com.intellij.debugger.actions.RemoveCustomFieldAction" use-shortcut-of="XDebugger.RemoveWatch">
        <add-to-group group-id="XDebugger.Variables.Tree.Popup" anchor="first"/>
        <add-to-group group-id="XDebugger.Watches.Tree.Popup" anchor="after" relative-to-action="XDebugger.RemoveWatch"/>
      </action>
      <action id="Debugger.EditArrayFilter" class="com.intellij.debugger.actions.ArrayFilterAction$Edit" use-shortcut-of="XDebugger.SetValue">
        <add-to-group group-id="XDebugger.Variables.Tree.Popup" anchor="first"/>
        <add-to-group group-id="XDebugger.Watches.Tree.Popup" anchor="after" relative-to-action="XDebugger.EditWatch"/>
      </action>
      <action id="Debugger.RemoveArrayFilter" class="com.intellij.debugger.actions.ArrayFilterAction$Delete" use-shortcut-of="XDebugger.RemoveWatch">
        <add-to-group group-id="XDebugger.Variables.Tree.Popup" anchor="first"/>
        <add-to-group group-id="XDebugger.Watches.Tree.Popup" anchor="after" relative-to-action="XDebugger.RemoveWatch"/>
      </action>
      <action id="Debugger.ViewText" class="com.intellij.debugger.actions.ViewTextAction">
        <add-to-group group-id="XDebugger.ValueGroup" anchor="last"/>
      </action>
      <action id="Debugger.CustomizeThreadsView" class="com.intellij.debugger.actions.CustomizeThreadsViewAction">
        <add-to-group group-id="XDebugger.Frames.Tree.Popup" anchor="last"/>
      </action>
      <action id="Debugger.EditFrameSource" class="com.intellij.debugger.actions.EditFrameSourceAction" use-shortcut-of="EditSource"/>
      <action id="Debugger.EditNodeSource" class="com.intellij.debugger.actions.EditSourceAction"/>
      <action id="Debugger.EditTypeSource" class="com.intellij.debugger.actions.JumpToObjectAction"/>
      <reference ref="Debugger.PopFrame"/>
      <action id="Debugger.ViewAsGroup" class="com.intellij.debugger.actions.ViewAsGroup">
        <add-to-group group-id="XDebugger.ValueGroup" anchor="last"/>
      </action>
      <action id="Debugger.FilterArray" class="com.intellij.debugger.actions.ArrayAction$FilterArrayAction">
        <add-to-group group-id="XDebugger.ValueGroup" anchor="last"/>
      </action>
      <action id="Debugger.AdjustArrayRange" class="com.intellij.debugger.actions.ArrayAction$AdjustArrayRangeAction">
        <add-to-group group-id="XDebugger.ValueGroup" anchor="last"/>
      </action>
      <action id="Debugger.ShowRelatedStack" class="com.intellij.debugger.actions.ShowRelatedStackAction"  text="Show related stack...">
        <add-to-group group-id="XDebugger.ValueGroup" anchor="first"/>
      </action>
      <action id="Debugger.ShowTypes" class="com.intellij.debugger.actions.ShowTypesAction" text="Show types">
        <add-to-group group-id="XDebugger.ValueGroup" anchor="last"/>
      </action>
      <!--<action id="Debugger.SetValue" class="com.intellij.debugger.actions.SetValueAction"/>-->
      <!--<action id="Debugger.ShowAsHex" class="com.intellij.debugger.actions.ShowAsHexAction" text="Show as Hex"/>-->
      <action id="Debugger.ResumeThread" class="com.intellij.debugger.actions.ResumeThreadAction"/>
      <action id="Debugger.FreezeThread" class="com.intellij.debugger.actions.FreezeThreadAction"/>
      <action id="Debugger.InterruptThread" class="com.intellij.debugger.actions.InterruptThreadAction"/>

      <action id="Debugger.ForceEarlyReturn" class="com.intellij.debugger.actions.ForceEarlyReturnAction">
        <add-to-group group-id="XDebugger.Frames.Tree.Popup" anchor="after" relative-to-action="Debugger.PopFrame"/>
        <add-to-group group-id="DebugMainMenu" anchor="after" relative-to-action="Debugger.PopFrame"/>
      </action>

      <action id="Debugger.ThrowException" class="com.intellij.debugger.actions.ThrowExceptionAction">
        <add-to-group group-id="XDebugger.Frames.Tree.Popup" anchor="after" relative-to-action="Debugger.PopFrame"/>
        <add-to-group group-id="DebugMainMenu" anchor="after" relative-to-action="Debugger.ForceEarlyReturn"/>
      </action>

      <action id="Debugger.AddSteppingFilter" class="com.intellij.debugger.actions.AddSteppingFilterAction" text="Add Stepping Filter...">
        <add-to-group group-id="XDebugger.Frames.Tree.Popup"/>
      </action>

      <action id="Debugger.StepOutOfBlock" class="com.intellij.debugger.actions.StepOutOfBlockAction" text="Step Out Of Code Block"
              icon="AllIcons.Actions.StepOutCodeBlock">
        <add-to-group group-id="DebugMainMenu" anchor="after" relative-to-action="StepOut"/>
      </action>

      <action id="Debugger.CreateRenderer" class="com.intellij.debugger.actions.CreateRendererAction" text="Create..."/>
      <action id="Debugger.AutoRenderer" class="com.intellij.debugger.actions.AutoRendererAction"/>
      <action id="Debugger.MuteRenderers" class="com.intellij.debugger.actions.ForceOnDemandRenderersAction" text="Mute Renderers">
        <add-to-group group-id="XDebugger.ValueGroup" anchor="last"/>
      </action>

      <action id="Debugger.AsyncStacks" class="com.intellij.debugger.actions.AsyncStacksToggleAction" text="Async Stack Traces">
        <add-to-group group-id="XDebugger.Frames.Tree.Popup"/>
      </action>
      <action id="Debugger.SwitchToTheNextContext" class="com.intellij.debugger.actions.SwitchToTheNextContextAction"
              text="Switch to the next stopped breakpoint"/>
      <action id="Debugger.CallTracer" class="com.intellij.debugger.ui.breakpoints.CallTracer$CallTracerToggleAction" text="Trace Calls"
              icon="AllIcons.Debugger.Db_set_breakpoint">
        <add-to-group group-id="XDebugger.ToolWindow.TopToolbar"/>
      </action>
    </group>

    <action class="com.intellij.debugger.memory.action.ShowInstancesByClassAction"
            id="MemoryView.ShowInstancesFromDebuggerTree"
            text="Show Instances">
      <add-to-group group-id="XDebugger.ValueGroup" anchor="after"
                    relative-to-action="Debugger.ShowReferring"/>
    </action>

    <action class="com.intellij.debugger.memory.action.CalculateRetainedSizeAction"
            id="Memory.CalculateRetainedSize"
            text="Calculate Retained Size">
      <add-to-group group-id="XDebugger.ValueGroup" anchor="after"
                    relative-to-action="MemoryView.ShowInstancesFromDebuggerTree"/>
    </action>

    <action class="com.intellij.debugger.memory.action.tracking.JumpToAllocationSourceAction"
            id="MemoryView.ShowAllocationStackTrace"
            text="Jump To Allocation Position">
      <add-to-group group-id="XDebugger.ValueGroup" anchor="after"
                    relative-to-action="XDebugger.JumpToTypeSource"/>
    </action>

    <group id="MemoryView.SettingsPopupActionGroup">
      <action class="com.intellij.debugger.memory.action.ShowClassesWithInstanceAction"
              id="MemoryView.ShowOnlyWithInstances"
              text="Show With Instances Only"/>

      <action class="com.intellij.xdebugger.memory.action.ShowClassesWithDiffAction"
              id="MemoryView.ShowOnlyWithDiff"
              text="Show Non-Zero Diff Only"/>

      <action class="com.intellij.debugger.memory.action.ShowTrackedAction"
              id="MemoryView.ShowOnlyTracked"
              text="Show Tracked Classes Only"/>

      <separator/>

      <action class="com.intellij.debugger.memory.action.EnableBackgroundTrackingAction"
              id="MemoryView.EnableTrackingWithClosedWindow"
              text="Enable Tracking With Hidden Memory View"/>

      <action class="com.intellij.xdebugger.memory.action.SwitchUpdateModeAction"
              id="MemoryView.SwitchUpdateMode"
              text="Update Loaded Classes On Debugger Stop"
              description="Load classes on debugger pause (may increase overhead on debugger stepping)"/>
    </group>

    <group id="MemoryView.ClassesPopupActionGroup">
      <action class="com.intellij.debugger.memory.action.ShowInstancesFromClassesViewAction"
              id="MemoryView.ShowInstances"
              text="Show Instances"/>

      <action class="com.intellij.debugger.memory.action.ShowNewInstancesAction"
              id="MemoryView.ShowNewInstances"
              text="Show New Instances"/>

      <action class="com.intellij.debugger.memory.action.JumpToTypeSourceAction"
              id="MemoryView.JumpToTypeSource"
              text="Jump To Type Source"/>
      <separator/>

      <action class="com.intellij.debugger.memory.action.tracking.TrackInstancesToggleAction"
              id="MemoryView.TrackingAction.NewInstancesTracking"
              text="Track New Instances"/>
    </group>

    <group id="Debugger.Representation">
      <reference ref="Debugger.CreateRenderer"/>
      <separator/>
      <reference ref="Debugger.AutoRenderer"/>
    </group>

    <group id="EditorPopupMenuDebugJava">
      <separator/>
      <reference ref="ToggleFieldBreakpoint"/>
      <separator/>
      <add-to-group group-id="EditorPopupMenuDebug" anchor="last"/>
    </group>

    <group id="JavaCompileGroup">
      <reference ref="ToggleMethodBreakpoint"/>
      <reference ref="ToggleFieldBreakpoint"/>
      <separator/>
      <add-to-group group-id="ProjectViewCompileGroup" anchor="first"/>
      <add-to-group group-id="StructureViewCompileGroup" anchor="first"/>
    </group>

    <group id="JavaMethodHierarchyPopupMenu">
      <action id="MethodHierarchy.ImplementMethodAction" class="com.intellij.ide.hierarchy.method.ImplementMethodAction"
              use-shortcut-of="ImplementMethods"/>
      <action id="MethodHierarchy.OverrideMethodAction" class="com.intellij.ide.hierarchy.method.OverrideMethodAction"
              use-shortcut-of="OverrideMethods"/>
      <separator/>
      <add-to-group group-id="MethodHierarchyPopupMenu" anchor="first"/>
    </group>

    <action id="StartupWizard" class="com.intellij.ide.startupWizard.StartupWizardAction" internal="true">
      <add-to-group group-id="FileSettingsGroup" anchor="last"/>
    </action>

    <group id="Debugger.FramePanelPopup">
      <reference ref="Debugger.AdjustArrayRange"/>
      <!--<reference ref="Debugger.Inspect"/>-->
      <reference ref="Debugger.MarkObject"/>
      <!--<reference ref="Debugger.SetValue"/>-->
      <reference ref="Debugger.EditNodeSource"/>
      <reference ref="Debugger.EditTypeSource"/>
      <separator/>
      <reference ref="Debugger.ViewAsGroup"/>
      <separator/>
      <reference ref="Debugger.AddToWatch"/>
      <separator/>
      <reference ref="ToggleFieldBreakpoint"/>
      <separator/>
      <!--<reference ref="Debugger.CopyValue"/>-->
      <reference ref="Debugger.ViewText"/>
      <!--<reference ref="Debugger.CompareValueWithClipboard"/>-->
      <reference ref="Debugger.CustomizeContextView"/>
    </group>

    <group id="Debugger.EvaluationDialogPopup">
      <reference ref="Debugger.AdjustArrayRange"/>
      <!--<reference ref="Debugger.Inspect"/>-->
      <reference ref="Debugger.MarkObject"/>
      <!--<reference ref="Debugger.SetValue"/>-->
      <reference ref="Debugger.EditNodeSource"/>
      <reference ref="Debugger.EditTypeSource"/>
      <separator/>
      <!--<reference ref="Debugger.ShowAsHex"/>-->
      <reference ref="Debugger.ViewAsGroup"/>
      <separator/>
      <reference ref="Debugger.AddToWatch"/>
      <separator/>
      <reference ref="ToggleFieldBreakpoint"/>
      <separator/>
      <!--<reference ref="Debugger.CopyValue"/>-->
      <reference ref="Debugger.ViewText"/>
      <!--<reference ref="Debugger.CompareValueWithClipboard"/>-->
      <reference ref="Debugger.CustomizeContextView"/>
    </group>

    <group id="Debugger.InspectPanelPopup">
      <reference ref="Debugger.AdjustArrayRange"/>
      <!--<reference ref="Debugger.Inspect"/>-->
      <reference ref="Debugger.MarkObject"/>
      <!--<reference ref="Debugger.SetValue"/>-->
      <reference ref="Debugger.EditNodeSource"/>
      <reference ref="Debugger.EditTypeSource"/>
      <separator/>
      <reference ref="Debugger.AddToWatch"/>
      <separator/>
      <!--<reference ref="Debugger.ShowAsHex"/>-->
      <reference ref="Debugger.ViewAsGroup"/>
      <separator/>
      <reference ref="ToggleFieldBreakpoint"/>
      <separator/>
      <!--<reference ref="Debugger.CopyValue"/>-->
      <reference ref="Debugger.ViewText"/>
      <!--<reference ref="Debugger.CompareValueWithClipboard"/>-->
      <reference ref="Debugger.CustomizeContextView"/>
    </group>

    <group id="Debugger.ThreadsPanelPopup">
      <reference ref="Debugger.ResumeThread"/>
      <reference ref="Debugger.FreezeThread"/>
      <reference ref="Debugger.InterruptThread"/>
      <!--<reference ref="Debugger.ShowFrame"/>-->
      <reference ref="Debugger.PopFrame"/>
      <!--<reference ref="Debugger.EditFrameSource"/>-->
      <!--<reference ref="Debugger.EditTypeSource"/>-->
      <!--<reference ref="EditSource"/>-->
      <separator/>
      <reference ref="ExportThreads"/>
      <reference ref="Debugger.AddSteppingFilter"/>
      <separator/>
      <reference ref="Debugger.CustomizeThreadsView"/>
    </group>

    <group id="Debugger.WatchesPanelPopup">
      <!--<reference ref="Debugger.NewWatch"/>-->
      <!--<reference ref="Debugger.EditWatch"/>-->
      <!--<reference ref="Debugger.RemoveWatch"/>-->
      <!--<reference ref="Debugger.RemoveAllWatches"/>-->
      <separator/>
      <reference ref="Debugger.AdjustArrayRange"/>
      <!--<reference ref="Debugger.Inspect"/>-->
      <reference ref="Debugger.MarkObject"/>
      <!--<reference ref="Debugger.SetValue"/>-->
      <reference ref="Debugger.EditNodeSource"/>
      <reference ref="Debugger.EditTypeSource"/>
      <separator/>
      <!--<reference ref="Debugger.ShowAsHex"/>-->
      <reference ref="Debugger.ViewAsGroup"/>
      <separator/>
      <reference ref="Debugger.AddToWatch"/>
      <separator/>
      <reference ref="ToggleFieldBreakpoint"/>
      <separator/>
      <!--<reference ref="Debugger.CopyValue"/>-->
      <reference ref="Debugger.ViewText"/>
      <!--<reference ref="Debugger.CompareValueWithClipboard"/>-->
      <reference ref="Debugger.CustomizeContextView"/>
    </group>

    <action id="ShowPackageDeps" class="com.intellij.packageDependencies.actions.AnalyzeDependenciesAction">
      <add-to-group group-id="ShowPackageDepsGroup" anchor="first"/>
      <add-to-group group-id="AnalyzeActions" anchor="first"/>
    </action>
    <action id="ShowBackwardPackageDeps" class="com.intellij.packageDependencies.actions.BackwardDependenciesAction">
      <add-to-group group-id="AnalyzeActions" relative-to-action="ShowPackageDeps" anchor="after"/>
    </action>
    <action id="ShowDependenciesOnTarget" class="com.intellij.packageDependencies.actions.AnalyzeDependenciesOnSpecifiedTargetAction">
        <add-to-group group-id="AnalyzeActions" relative-to-action="ShowBackwardPackageDeps" anchor="after"/>
    </action>
    <action id="ShowModulesDependencies" class="com.intellij.moduleDependencies.ShowModuleDependenciesAction">
      <add-to-group group-id="AnalyzeActions" anchor="last"/>
    </action>
    <action id="FileChooser.GotoJDK" class="com.intellij.openapi.projectRoots.JdkPopupAction" >
      <add-to-group group-id="FileChooserToolbar" anchor="last"/>
    </action>

    <action class="com.intellij.compiler.backwardRefs.view.TestCompilerRefFindUsagesAction" id="TestCompilerReferenceServiceFindUsages" internal="true"/>
    <action class="com.intellij.compiler.backwardRefs.view.TestCompilerRefFunctionalExpressionSearchAction" id="TestCompilerReferenceServiceFunctionalExpressionSearch" internal="true"/>
    <action class="com.intellij.compiler.backwardRefs.view.TestCompilerRefInheritanceAction" id="TestCompilerReferenceServiceInheritance" internal="true"/>

    <group id="AnnotationHintsContextMenu" popup="true">
      <action id="ToggleExternalAnnotationsHintsAction"
              class="com.intellij.codeInsight.hints.AnnotationHintsPass$ToggleExternalAnnotationsHintsAction"
              text="Show External Annotations"/>
      <action id="ToggleInferredAnnotationsHintsAction"
              class="com.intellij.codeInsight.hints.AnnotationHintsPass$ToggleInferredAnnotationsHintsAction"
              text="Show Inferred Annotations"/>
      <separator/>
      <reference ref="EditorPopupMenu"/>
    </group>


    <action id="MethodOverloadSwitchUp" class="com.intellij.codeInsight.editorActions.JavaMethodOverloadSwitchUpAction"/>
    <action id="MethodOverloadSwitchDown" class="com.intellij.codeInsight.editorActions.JavaMethodOverloadSwitchDownAction" />
  </actions>
</idea-plugin>
