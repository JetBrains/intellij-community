Index: platform/platform-impl/src/com/intellij/openapi/project/impl/ProjectManagerImpl.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/platform/platform-impl/src/com/intellij/openapi/project/impl/ProjectManagerImpl.kt b/platform/platform-impl/src/com/intellij/openapi/project/impl/ProjectManagerImpl.kt
--- a/platform/platform-impl/src/com/intellij/openapi/project/impl/ProjectManagerImpl.kt	(revision f6a9881a92d5d27ffbfd5409c59c240a84e1d3cf)
+++ b/platform/platform-impl/src/com/intellij/openapi/project/impl/ProjectManagerImpl.kt	(date 1737373064951)
@@ -1322,6 +1322,8 @@

       val preInitJob = projectInitHelper?.launchPreInit(project)

+      project.createComponentsNonBlocking()
+
       ProjectServiceInitializer.initEssential(project)
       projectInitHelper?.notifyInit(project)

@@ -1331,10 +1333,7 @@

       ProjectServiceInitializer.initNonEssential(project)

-      launch {
-        preInitJob?.join()
-        project.createComponentsNonBlocking()
-      }
+      preInitJob?.join()
 
       if (!isTrusted.await()) {
         throw CancellationException("not trusted")
