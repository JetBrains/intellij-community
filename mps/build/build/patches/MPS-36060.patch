Index: platform/platform-impl/src/com/intellij/openapi/project/impl/ProjectManagerImpl.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/platform/platform-impl/src/com/intellij/openapi/project/impl/ProjectManagerImpl.kt b/platform/platform-impl/src/com/intellij/openapi/project/impl/ProjectManagerImpl.kt
--- a/platform/platform-impl/src/com/intellij/openapi/project/impl/ProjectManagerImpl.kt	(revision 0e77e0403192e11c11abe21686e0291ba675d37c)
+++ b/platform/platform-impl/src/com/intellij/openapi/project/impl/ProjectManagerImpl.kt	(date 1747748800066)
@@ -1305,6 +1305,8 @@
     coroutineScope {
       val preInitJob = projectInitHelper?.launchPreInit(project)

+      project.createComponentsNonBlocking()
+
       ProjectServiceInitializer.initEssential(project)
       projectInitHelper?.notifyInit(project)

@@ -1314,10 +1316,7 @@

       ProjectServiceInitializer.initNonEssential(project)

-      launch {
-        preInitJob?.join()
-        project.createComponentsNonBlocking()
-      }
+      preInitJob?.join()
     }
   }
   catch (initThrowable: Throwable) {
