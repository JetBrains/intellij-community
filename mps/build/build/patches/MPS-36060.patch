Index: platform/platform-impl/src/com/intellij/openapi/project/impl/ProjectManagerImpl.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/platform/platform-impl/src/com/intellij/openapi/project/impl/ProjectManagerImpl.kt b/platform/platform-impl/src/com/intellij/openapi/project/impl/ProjectManagerImpl.kt
--- a/platform/platform-impl/src/com/intellij/openapi/project/impl/ProjectManagerImpl.kt	(revision 89fc0bfc19af35dc228bbc7d07dd247a069a85a1)
+++ b/platform/platform-impl/src/com/intellij/openapi/project/impl/ProjectManagerImpl.kt	(date 1694608264547)
@@ -1216,16 +1216,15 @@
         it.execute(project)
       }
 
+      project.createComponentsNonBlocking()
+
       projectInitObserver?.rawProjectDeferred?.complete(project)
 
       if (preloadServices) {
         preloadServices(project)
       }
 
-      launch {
-        beforeComponentCreation?.join()
-        project.createComponentsNonBlocking()
-      }
+      beforeComponentCreation?.join()
 
       if (!isTrusted.await()) {
         throw CancellationException("not trusted")
